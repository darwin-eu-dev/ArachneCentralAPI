(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1189:function(e,t,a){"use strict";var i=a(3),s=a.n(i),n=a(0),r=a.n(n),o=a(4),l=a(2),c=a(157),d=a.n(c);a(1192);var p=function({className:e,isFavourite:t,toggleFavorite:a}={}){const i=new o.a("title-study-ico-fav"),n=new o.a("tooltip"),l={modifiers:{marked:t},extra:d()(n().className,e)};return r.a.createElement("div",s()({},i(l),{"aria-label":t?"Remove from favorites":"Mark as favorite","data-tootik-conf":"right",onClick:e=>{a&&(e.stopPropagation(),a())}}),t?"star":"star_border")};var u=function({className:e="",isPrivate:t=!1}={}){const a=Object(o.a)("title-study-ico-lock"),i=Object(o.a)("tooltip"),n={modifiers:{locked:t},extra:d()(i().className,e)};return r.a.createElement("div",s()({},a(n),{"aria-label":t?"Private":"Public","data-tootik-conf":"right"}),t?"lock":"lock_open")};var m=function(e){const t=[p];return e&&t.push(u),t};a(1194);var y=function(e){const t=new o.a("title-study"),{className:a,mods:i,title:n,link:c=null,titleLabel:d,titleLabelDescr:p,showPrivacy:u=!0,showHover:y=!1}=e;return r.a.createElement("div",t({modifiers:i,extra:a}),r.a.createElement("div",t("icon-list"),m(u).map((a,i)=>r.a.createElement(a,{...e,key:i,...t("icon")}))),c?r.a.createElement(l.Link,s()({},t("title"),{to:c}),n):r.a.createElement("span",s()({title:y?n:""},t("title")),n),d&&r.a.createElement("span",s()({},t("label"),{title:d,alt:p}),d))};t.a=y},1192:function(e,t,a){var i=a(12),s=a(1193);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1193:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-title-study-ico-fav{cursor:pointer}.ac-title-study-ico-fav--marked{color:#FFA200}\n",""]),e.exports=t},1194:function(e,t,a){var i=a(12),s=a(1195);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1195:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-title-study{align-items:center;display:flex}.ac-title-study--nooverflow{overflow:hidden}.ac-title-study--nowrap .ac-title-study__title{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.ac-title-study--large .ac-title-study__icon{font-size:2.5rem}.ac-title-study--large .ac-title-study__icon--lock{font-size:2.1rem}.ac-title-study--large .ac-title-study__title{font-family:\"Montserrat\";text-transform:uppercase;font-size:1.8rem}.ac-title-study__icon-list{align-items:center;display:flex;margin-right:1.5rem}.ac-title-study__icon{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga'}.ac-title-study__icon--medium{font-size:2.2rem}.ac-title-study__icon--bold{font-weight:600}.ac-title-study__icon:not(:first-child){margin-left:.85rem}.ac-title-study__label{background-color:#3E3E3E;border-radius:3px;color:#fff;font-size:0.75rem;left:calc(100% + 5px);line-height:1.9;padding:0 5px;flex-shrink:0;margin-left:5px;align-self:baseline;margin-top:-3px}\n",""]),e.exports=t},1196:function(e,t,a){var i=a(12),s=a(1197);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1197:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-card{box-shadow:0px 0px 10px 0px rgba(0,0,0,0.1);padding:2rem;margin:0.5rem;width:calc( 50% - 2rem);display:flex;flex-direction:column}.ac-card__heading{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.75rem}.ac-card__title{min-width:0}.ac-card__status{margin-left:4rem}.ac-card__date,.ac-card__body{margin-bottom:1.5rem}.ac-card__date{font-size:1.2rem}.ac-card__body{flex-grow:1}.ac-card__footer{display:flex;justify-content:space-between;align-items:flex-start}.ac-card__lead-avatar{width:2.5rem;height:2.5rem;flex-shrink:0}.ac-card__comma{flex:0}.ac-card__users{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;display:flex;align-items:center;width:50%;position:relative}.ac-card__users--expanded{align-items:flex-start}.ac-card__users-wrapper{display:flex;align-items:center;overflow:hidden}.ac-card__users-wrapper--expanded{flex-wrap:wrap}.ac-card__users .ac-user-label{flex-shrink:0;margin-left:1rem}.ac-card__ellipsis{position:absolute;right:0px;line-height:2;background:#fff}.ac-card__ellipsis--hidden{display:none}\n",""]),e.exports=t},1198:function(e,t,a){var i=a(12),s=a(1199);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1199:function(e,t,a){(t=a(13)(!1)).push([e.i,'.ac-study-date-panel{display:flex;align-items:center;background:#fff;border-radius:2px;padding:12px 20px;box-shadow:0px 0px 10px 0px rgba(0,0,0,0.1)}.ac-study-date-panel__title{font-family:"Montserrat";text-transform:uppercase;margin-right:auto}.ac-study-date-panel__picker{cursor:pointer}.ac-study-date-input{display:flex;align-items:center}.ac-study-date-input__ico{color:#a9a9a9;margin-right:7px}\n',""]),e.exports=t},1207:function(e,t,a){"use strict";var i=a(0),s=a.n(i),n=a(3),r=a.n(n),o=(a(322),a(207)),l=a(4),c=a(2);function d(e){const t=new l.a("card"),{title:a,status:i,titleLabel:n,labelDescr:d,children:p,favourite:u,setFavourite:m,userList:y,usersExpanded:g,date:h,toggleUsers:f,footerExtra:b}=e;return s.a.createElement("div",t(),s.a.createElement("div",t("heading"),s.a.createElement("div",t("title"),a),s.a.createElement("div",t("status"),i)),s.a.createElement("div",t("date"),h),s.a.createElement("div",t("body"),p),s.a.createElement("div",t("footer"),s.a.createElement("div",t({element:"users",modifiers:{expanded:g}}),s.a.createElement("div",t("lead-avatar"),s.a.createElement(c.Avatar,null)),s.a.createElement("div",t({element:"users-wrapper",modifiers:{expanded:g}}),y.map((e,a)=>[s.a.createElement(o.a,{user:e,showAvatar:!1}),a<y.length-1?s.a.createElement("span",t("comma"),", "):null]),s.a.createElement(c.Link,r()({},t({element:"ellipsis",modifiers:{hidden:1===y.length||g}}),{onClick:f}),"..."))),b))}a(1196),d.propTypes={};var p=d;class u extends i.Component{static get propTypes(){return{}}constructor(){super(),this.state={usersExpanded:!1},this.toggleUsers=this.toggleUsers.bind(this)}toggleUsers(){this.setState({usersExpanded:!this.state.usersExpanded})}render(){return p({...this.props,...this.state,toggleUsers:this.toggleUsers})}}var m=u;t.a=m},1208:function(e,t,a){"use strict";var i=a(3),s=a.n(i),n=a(0),r=a.n(n),o=a(4),l=a(2),c=a(49),d=a.n(c);a(1198);class p extends n.Component{render(){const e=new o.a("study-date-input"),t=new o.a("material-icons"),{className:a,displayValue:i,onClick:n}=this.props;return r.a.createElement("span",s()({},e({extra:a}),{onClick:n}),r.a.createElement("span",e("ico"),r.a.createElement("i",t(),"date_range")),r.a.createElement("span",e("value"),i))}}function u({title:e,selected:t,dateFormat:a,minDate:i,maxDate:n,isEditable:c,onChange:u,className:m}){const y=new o.a("study-date-panel"),g=t?d()(t).format(a):"Empty";return r.a.createElement("div",y({extra:m}),r.a.createElement("span",y("title"),e),c?r.a.createElement(l.Datepicker,s()({},y("picker"),{selected:t||d()(),customInput:r.a.createElement(p,{displayValue:g}),minDate:i,maxDate:n,onChange:u})):r.a.createElement(p,{displayValue:g}))}p.propTypes={className:n.PropTypes.any,displayValue:n.PropTypes.string.isRequired,onClick:n.PropTypes.func},u.propTypes={dateFormat:n.PropTypes.string.isRequired,isEditable:n.PropTypes.bool.isRequired,maxDate:n.PropTypes.any,minDate:n.PropTypes.any,onChange:n.PropTypes.func,selected:n.PropTypes.any,title:n.PropTypes.string.isRequired,className:n.PropTypes.string};var m=u;t.a=m},1268:function(e,t,a){var i=a(12),s=a(1269);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1269:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-studies-table{display:flex;flex-grow:1;overflow-y:auto}.ac-studies-table__table{table-layout:fixed}.ac-studies-table__study-th{width:22.5%}.ac-studies-table__lead-th{width:15%}.ac-studies-table__role-th{width:12.5%}.ac-studies-table__created-th{width:12.5%}.ac-studies-table__updated-th{width:12.5%}.ac-studies-table__type-th{width:12.5%}.ac-studies-table__status-th{width:12.5%}.ac-cell-name{display:flex}.ac-cell-name__title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n",""]),e.exports=t},1270:function(e,t,a){var i=a(12),s=a(1271);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1271:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-card__line:not(:last-child){margin-bottom:1rem}.ac-study-card__attribute-name{font-weight:700}.ac-study-card__status{font-family:\"Montserrat\";text-transform:uppercase;line-height:1.75rem;color:#3E3E3E}.ac-study-card__status .ac-table-cell-status__ico{width:16px;height:16px}.ac-study-card__dates{display:flex;align-items:center}.ac-study-card__ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';font-size:2.5rem;margin:0 0.5rem;color:#909090}.ac-study-card__ico--medium{font-size:2.2rem}.ac-study-card__ico--bold{font-weight:600}.ac-study-card__ico--reversed{transform:rotateZ(180deg)}\n",""]),e.exports=t},1272:function(e,t,a){var i=a(12),s=a(1273);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1273:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-studies-cards{display:flex;flex-wrap:wrap;padding:1.5rem;padding-right:0;align-content:flex-start}\n",""]),e.exports=t},1274:function(e,t,a){var i=a(12),s=a(1275);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1275:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-studies-list-content{display:flex;flex-direction:column;flex-grow:1}\n",""]),e.exports=t},1276:function(e,t,a){var i=a(12),s=a(1277);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1277:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-studies-list-actions{display:flex;width:100%}.ac-studies-list-actions__action:not(:last-child){margin-right:5px}.ac-studies-list-actions__action:last-child{margin-left:2.5rem}.ac-studies-list-actions__btn{padding:0 5px}.ac-studies-list-actions__btn-ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#3E3E3E;font-size:3rem;vertical-align:middle}.ac-studies-list-actions__btn-ico--medium{font-size:2.2rem}.ac-studies-list-actions__btn-ico--bold{font-weight:600}\n",""]),e.exports=t},1278:function(e,t,a){var i=a(12),s=a(1279);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1279:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-form-create-study{width:26rem}.ac-form-create-study .ac-form-select,.ac-form-create-study .ac-autocomplete,.ac-form-create-study .ac-autocomplete__select{position:initial}.ac-form-create-study .ac-form-select .ac-select__options,.ac-form-create-study .ac-form-select .Select-menu-outer,.ac-form-create-study .ac-autocomplete .ac-select__options,.ac-form-create-study .ac-autocomplete .Select-menu-outer,.ac-form-create-study .ac-autocomplete__select .ac-select__options,.ac-form-create-study .ac-autocomplete__select .Select-menu-outer{width:26rem;max-width:26rem}.ac-form-create-study .ac-autocomplete__search{right:2rem;top:-0.25rem}\n",""]),e.exports=t},1280:function(e,t,a){var i=a(12),s=a(1281);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1281:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-date-interval{margin-bottom:10px}\n",""]),e.exports=t},1284:function(e,t,a){var i=a(12),s=a(1285);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1285:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-percentage-bar{cursor:pointer;width:100%}.ac-percentage-bar__progress{overflow:hidden;height:12px;background-color:#f7f7f7;background-image:linear-gradient(top, #f5f5f5, #f9f9f9);background-repeat:repeat-x;box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);border-radius:0px}.ac-percentage-bar__bar{height:100%;background-color:#0e90d2;background-image:linear-gradient(top, #149bdf, #0480be);background-repeat:repeat-x;box-shadow:inset 0 -1px 0 rgba(0,0,0,0.15);box-sizing:border-box;transition:width 0.6s ease}.ac-percentage-bar__label{margin-top:5px;font-size:1.2rem}\n",""]),e.exports=t},1286:function(e,t,a){var i=a(12),s=a(1287);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1287:function(e,t,a){(t=a(13)(!1)).push([e.i,'.ac-study-checklist{position:relative}.ac-study-checklist>.dropdown__content{position:initial}.ac-study-checklist__content{overflow:visible;position:absolute;z-index:9}.ac-study-checklist__content:before{background:#464646;content:"";display:block;height:2rem;position:absolute;right:calc( 1rem + 5px);top:-1rem;transform:rotateZ(45deg);width:2rem}.ac-study-checklist>.dropdown__trigger{color:inherit;text-decoration:inherit}.ac-study-checklist__content{right:0;margin-top:2.1rem;width:430px}.ac-study-checklist__step-list{max-height:500px;overflow-y:auto}.ac-study-checklist__toolbar{align-items:center;background:#F9F9F9;display:flex;padding:1.25rem 2rem}.ac-study-checklist__done-count{font-family:"Montserrat";text-transform:uppercase}.ac-study-checklist__guide-btn{margin-left:auto}.ac-study-checklist-step{cursor:pointer;display:flex;padding:1.75rem 2rem}.ac-study-checklist-step:not(:first-child){border-top:1px solid #F6F6F6}.ac-study-checklist-step--done{cursor:initial}.ac-study-checklist-step--done .ac-study-checklist-step__title{color:#909090}.ac-study-checklist-step--done .ac-study-checklist-step__descr{color:#909090}.ac-study-checklist-step--done .ac-study-checklist-step__status{border:2px solid #85AF36;background:rgba(133,175,54,0.1)}.ac-study-checklist-step--done .ac-study-checklist-step__status-ico{color:#85AF36;font-weight:700;color:#67882a}.ac-study-checklist-step__status{align-items:center;border-radius:50%;border:2px solid #E1E1E1;display:flex;justify-content:center;height:3rem;min-width:3rem}.ac-study-checklist-step__status-ico{font-family:\'Material Icons\';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\'liga\';color:#E1E1E1}.ac-study-checklist-step__status-ico--medium{font-size:2.2rem}.ac-study-checklist-step__status-ico--bold{font-weight:600}.ac-study-checklist-step__info,.ac-study-checklist-step__title,.ac-study-checklist-step__descr{cursor:inherit}.ac-study-checklist-step__info{align-self:center;display:flex;flex-direction:column;margin-left:1.25rem}.ac-study-checklist-step__title{font-family:"Montserrat";text-transform:uppercase}.ac-study-checklist-step__descr{text-align:justify}.ac-study-checklist-step__descr:not(:empty){margin-top:0.5rem}\n',""]),e.exports=t},1288:function(e,t,a){var i=a(12),s=a(1289);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1289:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-actions{display:flex;width:100%}.ac-study-actions__item{align-items:center;display:flex}.ac-study-actions__item:not(:last-child){margin-right:10px}.ac-study-actions__guide{width:120px}.ac-study-actions__publish,.ac-study-actions__reload,.ac-study-actions__remove{color:#3E3E3E;height:auto;padding:0 10px}.ac-study-actions__publish-ico,.ac-study-actions__reload-ico,.ac-study-actions__remove-ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';font-size:3rem;vertical-align:middle}.ac-study-actions__publish-ico--medium,.ac-study-actions__reload-ico--medium,.ac-study-actions__remove-ico--medium{font-size:2.2rem}.ac-study-actions__publish-ico--bold,.ac-study-actions__reload-ico--bold,.ac-study-actions__remove-ico--bold{font-weight:600}.ac-study-actions__publish-ico--grey{color:#C5C5C5}.ac-study-actions__publish-tooltip:after{white-space:normal;width:300px}.ac-study-actions__publish-ico-marker{position:absolute;background:#FFA200;border-radius:50%;height:1.3rem;left:7px;width:1.3rem;top:-2px}\n",""]),e.exports=t},1290:function(e,t,a){var i=a(12),s=a(1291);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1291:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-toolbar-title{display:flex;align-items:center}.ac-study-toolbar-title__fav-icon{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';cursor:pointer;font-size:2.2rem;margin-left:5px;margin-top:-3px}.ac-study-toolbar-title__fav-icon--medium{font-size:2.2rem}.ac-study-toolbar-title__fav-icon--bold{font-weight:600}.ac-study-toolbar-title__fav-icon--marked{color:#FFA200}\n",""]),e.exports=t},1292:function(e,t,a){var i=a(12),s=a(1293);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1293:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-form-update-title{width:340px}\n",""]),e.exports=t},1294:function(e,t,a){var i=a(12),s=a(1295);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1295:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-form-add-participant{width:52rem}.ac-study-form-add-participant .ac-form-select,.ac-study-form-add-participant .ac-autocomplete,.ac-study-form-add-participant .ac-autocomplete__select{position:initial}.ac-study-form-add-participant .ac-form-select .ac-select__options,.ac-study-form-add-participant .ac-form-select .Select-menu-outer,.ac-study-form-add-participant .ac-autocomplete .ac-select__options,.ac-study-form-add-participant .ac-autocomplete .Select-menu-outer,.ac-study-form-add-participant .ac-autocomplete__select .ac-select__options,.ac-study-form-add-participant .ac-autocomplete__select .Select-menu-outer{width:52rem;max-width:52rem}.ac-study-form-add-participant .ac-autocomplete__search{right:2rem;top:-0.25rem}.ac-study-form-add-participant .ac-autocomplete__search{right:2rem;top:-17.5rem}.ac-study-form-add-participant .ac-form-textarea{resize:none}.ac-study-form-add-participant .ac-form-textarea::placeholder{color:#A9A9A9}\n",""]),e.exports=t},1296:function(e,t,a){var i=a(12),s=a(1297);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1297:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-confirm-participant{line-height:1.4;text-align:center;width:260px}.ac-study-confirm-participant__study-name{font-weight:bold}\n",""]),e.exports=t},1304:function(e,t,a){var i=a(12),s=a(1305);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1305:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-insight-list__content--empty{padding:1.5rem 2rem;font-style:italic}.ac-study-insight-summary:not(:first-child){border-top:1px solid #E1E1E1}.ac-study-insight-summary__main{padding:1.5rem 2rem}.ac-study-insight-summary__heading{display:flex}.ac-study-insight-summary__analysis-title,.ac-study-insight-summary__insight-title{text-transform:uppercase;font-weight:600}.ac-study-insight-summary__analysis-title:not(:first-child):before,.ac-study-insight-summary__insight-title:not(:first-child):before{content:\"|\";padding:0 7px}.ac-study-insight-summary__date{color:#a9a9a9;margin-left:auto}.ac-study-insight-summary__descr{margin-top:1.5rem}.ac-study-insight-summary__detail-list{margin-top:1.5rem}.ac-study-insight-summary__descr{display:block;text-align:justify}.ac-study-insight-summary__detail-list{align-items:center;display:flex}.ac-study-insight-summary__detail{align-items:center;display:flex}.ac-study-insight-summary__detail:not(:first-child){margin-left:2rem}.ac-study-insight-summary__detail--data-source{flex-grow:3;flex-shrink:0}.ac-study-insight-summary__detail--results{justify-content:flex-end;flex-grow:1;flex-shrink:0}.ac-study-insight-summary__data-source-ico{height:1.8rem}.ac-study-insight-summary__data-source{margin-left:0.5rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ac-study-insight-summary__status-ico,.ac-study-insight-summary__results-ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#6F6F6F}.ac-study-insight-summary__status-ico--medium,.ac-study-insight-summary__results-ico--medium{font-size:2.2rem}.ac-study-insight-summary__status-ico--bold,.ac-study-insight-summary__results-ico--bold{font-weight:600}.ac-study-insight-summary__status-label{margin-left:0.25rem}.ac-study-insight-summary__results-link{font-weight:600;margin-left:0.5rem}.ac-study-insight-summary__annotation-block{background:rgba(246,246,246,0.5);padding:2rem}.ac-study-insight-summary__annotation:not(:first-child){margin-top:2rem}.ac-study-insight-summary__annotation-show-all{margin-top:1.75rem}.ac-comment-details{padding-left:5px}.ac-comment-details__entity{font-weight:500;padding-left:5px}\n",""]),e.exports=t},1348:function(e,t,a){var i=a(12),s=a(1349);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1349:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-participants-list{font-size:1.4rem}.ac-study-participants-list .ac-study-participant-lines__group{display:flex;border-bottom:1px solid #F6F6F6}.ac-study-participants-list .ac-study-participant-lines__group .ac-participant-card-avatar{flex:4;align-items:flex-start;display:flex}.ac-study-participants-list .ac-study-participant-lines__group .ac-participant-card-avatar__avatar-container{display:flex;flex-direction:row;align-items:center;margin-top:.5rem}.ac-study-participants-list .ac-study-participant-lines__group .ac-participant-card-avatar .ac-avatar{width:3.5rem;height:3.5rem;min-width:3.5rem;min-height:3.5rem;margin:0 1rem}.ac-study-participants-list .ac-study-participant-lines__group .ac-study-participant-lines__roles{flex:7}.ac-study-participants-list .ac-study-participant-lines__group .ac-list-item{border:none}.ac-study-participants-list .ac-study-participants-item{display:flex}.ac-study-participants-list .ac-study-participants-item__role{width:15rem;text-align:left}.ac-study-participants-list .ac-study-participants-item__role-select{margin-left:-1rem}.ac-study-participants-list .ac-study-participants-item__status{flex:2;min-width:8rem;text-align:right;font-size:1.4rem;font-weight:bold;text-transform:uppercase}.ac-study-participants-list .ac-study-participants-item__status--approved{color:#85AF36}.ac-study-participants-list .ac-study-participants-item__status--pending{color:#FFA200}.ac-study-participants-list .ac-study-participants-item__status--disabled{color:#909090}.ac-study-participants-list .ac-study-participants-item__action{align-items:center;cursor:pointer;display:flex;justify-content:center;width:50px}.ac-study-participants-list .ac-study-participants-item__action-ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#a9a9a9;cursor:pointer;font-weight:600}.ac-study-participants-list .ac-study-participants-item__action-ico--medium{font-size:2.2rem}.ac-study-participants-list .ac-study-participants-item__action-ico--bold{font-weight:600}.ac-study-participants-list .ac-study-participants-item__action-ico:hover{color:#838383}.ac-study-participants-list .ac-study-participants-item__action{width:5rem}.ac-study-participants-list .ac-study-participants-item--displaced{padding-right:5rem}.ac-study-participants-list .ac-study-participants-item__comment{margin:0 0.5rem;color:#a9a9a9;position:relative;top:2px}.ac-study-participants-list .ac-study-participants-item__comment-icon{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga'}.ac-study-participants-list .ac-study-participants-item__comment-icon--medium{font-size:2.2rem}.ac-study-participants-list .ac-study-participants-item__comment-icon--bold{font-weight:600}.ac-study-participants-list .ac-study-participants-item__comment{flex:1;top:0px}\n",""]),e.exports=t},1352:function(e,t,a){var i=a(12),s=a(1353);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1353:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-sections__tabs{box-shadow:0px 0px 10px 0px rgba(0,0,0,0.1)}.ac-sections__content{box-shadow:0px 0px 10px 0px rgba(0,0,0,0.1);margin-top:5px}\n",""]),e.exports=t},1354:function(e,t,a){var i=a(12),s=a(1355);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1355:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-objective-view{display:block;padding:1.5rem 2rem;line-height:2.1rem}.ac-study-objective-view--empty{color:#a9a9a9}\n",""]),e.exports=t},1356:function(e,t,a){var i=a(12),s=a(1357);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1357:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-objective-edit{display:block;padding:15px 20px}.ac-study-objective-edit__editor{height:160px;line-height:2.1rem;padding:10px;width:100%}.ac-study-objective-edit__actions{display:flex;margin-top:10px}.ac-study-objective-edit__cancel,.ac-study-objective-edit__save{padding-left:15px;padding-right:15px;margin-right:10px}\n",""]),e.exports=t},1358:function(e,t,a){var i=a(12),s=a(1359);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1359:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-objective{margin-bottom:10px}\n",""]),e.exports=t},1364:function(e,t,a){var i=a(12),s=a(1365);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1},r=(i(s,n),s.locals?s.locals:{});e.exports=r},1365:function(e,t,a){(t=a(13)(!1)).push([e.i,'.ac-study-manager-view{display:flex;flex-direction:column;min-height:100%;position:relative;height:100%}.ac-study-manager-view__content{background:#F9F9F9;flex-grow:1;padding:15px 30px;position:relative}.ac-study-manager-view__container{flex-grow:1;display:flex;flex-direction:column}.ac-study-manager-view__empty-state{font-family:"Montserrat";text-transform:uppercase;align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%;line-height:1.5}\n',""]),e.exports=t},1455:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a.n(i),n=a(38),r=a(6),o=a(27),l=a(1),c=a(180),d=a(22),p=a(32),u=a.n(p),m=a(14),y=a.n(m),g=a(1223),h=a(29);var f=a(4),b=a(2),_=a(80),v=a(49),E=a.n(v),P=a(28),w=a(3),T=a.n(w),x=a(1189);function k({userLinkFormatter:e,value:t}){const a=new f.a("cell-name"),i=t.map(e).map(e=>e.label).join(", ");return s.a.createElement("div",a(),s.a.createElement("span",T()({title:i},a("title")),i))}function S(e){const t=new f.a("cell-name");return s.a.createElement("div",t(),s.a.createElement(x.a,e))}a(1268);class C extends i.Component{constructor(){super(),this.tableClasses=new f.a("studies-table")}getColumns(){return[s.a.createElement(S,T()({key:"title"},this.tableClasses("study"),{header:"Study",field:"title",mods:["bold","nowrap","nooverflow"],props:e=>({...e,isFavourite:e.favourite,title:e.title,showHover:!0,toggleFavorite:()=>this.props.setFavourite(e.id,(!e.favourite).toString())})})),s.a.createElement(k,T()({key:"leadList"},this.tableClasses("lead"),{header:"PI",field:"leadList",userLinkFormatter:this.props.userLinkFormatter})),s.a.createElement(b.TableCellText,T()({key:"created"},this.tableClasses("created"),{header:"Created",field:"created",format:this.props.timestampFormatter})),s.a.createElement(b.TableCellText,T()({key:"updated"},this.tableClasses("updated"),{header:"Updated",field:"updated",format:this.props.timestampFormatter})),s.a.createElement(b.TableCellText,T()({key:"actionRequired"},this.tableClasses("actionRequired"),{header:"Action Required",field:"actionRequired",format:this.props.actionRequiredFormatter})),s.a.createElement(b.TableCellStatus,T()({key:"status"},this.tableClasses("status"),{header:"Study status",field:"status",format:this.props.statusFormatter}))]}render(){const{data:e,sorting:t,setSorting:a,goToStudy:i}=this.props;return s.a.createElement("div",this.tableClasses(),s.a.createElement(b.Table,T()({},this.tableClasses("table"),{mods:["hover","selectable","padded"],data:e,sorting:t,setSorting:a,onRowClick:({id:e})=>i(e)}),this.getColumns()))}}C.propTypes={timestampFormatter:i.PropTypes.func.isRequired,data:i.PropTypes.array.isRequired,goToStudy:i.PropTypes.func.isRequired,userLinkFormatter:i.PropTypes.func.isRequired,setSorting:i.PropTypes.func.isRequired,sorting:i.PropTypes.object.isRequired,actionRequiredFormatter:i.PropTypes.func.isRequired,statusFormatter:i.PropTypes.func.isRequired,typeFormatter:i.PropTypes.func.isRequired,pages:i.PropTypes.number,path:i.PropTypes.string};var A=C,M=a(46),O=a(1207);a(1270);class D extends i.Component{static get propTypes(){return{id:i.PropTypes.number,title:i.PropTypes.string,leadList:i.PropTypes.array,role:i.PropTypes.string,created:i.PropTypes.number,updated:i.PropTypes.number,type:i.PropTypes.object,status:i.PropTypes.object,favourite:i.PropTypes.bool,isPrivate:i.PropTypes.bool,timestampFormatter:i.PropTypes.func,typeFormatter:i.PropTypes.func,statusFormatter:i.PropTypes.func,userLinkFormatter:i.PropTypes.func,setFavourite:i.PropTypes.func,getTitleStudyProps:i.PropTypes.func}}constructor(e){super(e),this.classes=Object(f.a)("study-card")}getTitleStudyProps(){return{...this.classes("title"),mods:["large","nowrap"],title:this.props.title,link:d.i.studies(this.props.id),isFavourite:this.props.favourite,toggleFavorite:()=>this.props.setFavourite(this.props.id,(!this.props.favourite).toString()),isPrivate:this.props.isPrivate}}render(){const{leadList:e,role:t,created:a,endDate:i,type:n,status:r,timestampFormatter:o,typeFormatter:l,statusFormatter:c}=this.props,d=s.a.createElement(x.a,this.getTitleStudyProps()),p=s.a.createElement("div",this.classes("dates"),s.a.createElement("span",this.classes("ico"),"date_range"),E()(a).format(P.e),s.a.createElement("span",this.classes("ico","reversed"),"keyboard_backspace"),i?E()(i).format(P.e):"Empty end date");return s.a.createElement(O.a,{title:d,status:s.a.createElement(b.TableCellStatus,T()({},this.classes("status"),{value:c(r)})),date:s.a.createElement("span",null,"Created ",o(a)),userList:e.map(e=>({id:e.id,name:"".concat(e.firstname," ").concat(e.lastname)})),footerExtra:p},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-6"},s.a.createElement("div",this.classes("line"),s.a.createElement("span",this.classes("attribute-name"),"Role"),": ",t),s.a.createElement("div",this.classes("line"),s.a.createElement("span",this.classes("attribute-name"),"Type"),": ",l(n)))))}}var L=D;a(1272);var j=function(e){const t=new f.a("studies-cards"),{data:a}=e;return s.a.createElement("div",t(),a.map(t=>s.a.createElement(L,T()({key:t.id},t,e))),a&&a.length?null:s.a.createElement(M.a,{message:"No data available"}))};function F(e){const{isCardsView:t=!0}=e,a=new f.a("studies-list-content");return s.a.createElement("div",a(),t?s.a.createElement(j,e):s.a.createElement(A,e))}a(1274),F.propTypes={isCardsView:i.PropTypes.bool,timestampFormatter:i.PropTypes.func.isRequired,data:i.PropTypes.array.isRequired,isLoading:i.PropTypes.bool,goToStudy:i.PropTypes.func.isRequired,userLinkFormatter:i.PropTypes.func.isRequired,sorting:i.PropTypes.object.isRequired,actionRequiredFormatter:i.PropTypes.func.isRequired,statusFormatter:i.PropTypes.func.isRequired,typeFormatter:i.PropTypes.func.isRequired,pages:i.PropTypes.number,currentPage:i.PropTypes.number,path:i.PropTypes.string,resultsCountMessage:i.PropTypes.bool};var I=F,R=a(20);const q=(new class{getRawStudyList(e){return Object(l.k)(e,"studyManager.studyList.data.result.content")||[]}getStudy(e){return{id:e.id,favourite:e.favourite,title:e.title,leadList:e.leadList,role:Object(l.k)(e,"role","Reader","String"),created:e.created,updated:e.updated,type:e.type,status:e.status,endDate:e.endDate,isPrivate:e.privacy,actionRequired:e.actionRequired}}getStudyList(e){return e.map(this.getStudy)}buildSelectorForStudyList(){return Object(R.createSelector)([this.getRawStudyList],this.getStudyList.bind(this))}build(){return{getStudyList:this.buildSelectorForStudyList()}}}).build();class z extends l.a{getComponent(){return I}static getSorting(e){return{sortBy:e.query.sortBy,sortAsc:"true"===e.query.sortAsc}}mapStateToProps(e){const t=e.routing.locationBeforeTransitions.query.view===c.a.CARDS,a=Object(l.k)(e,"routing.locationBeforeTransitions.query",{},"Object");return{sorting:z.getSorting(e.routing.locationBeforeTransitions),searchQuery:a,data:q.getStudyList(e),userLinkFormatter:e=>({link:d.i.user(e.id),label:"".concat(e.firstname," ").concat(e.lastname)}),actionRequiredFormatter:e=>e?"Action required":"All is good",timestampFormatter:e=>E()(e).format(P.c),typeFormatter:e=>e?e.name:null,statusFormatter:e=>e?{color:e.name?d.k[e.name.toLowerCase()]:null,label:e.name}:{},isCardsView:t}}getMapDispatchToProps(){return{search:e=>{const t=new u.a(d.i.studies());return t.setSearch(e),Object(o.push)(t.href())},loadStudies:r.a.studyManager.studyList.find,goToStudy:e=>Object(o.push)(d.i.studies(e)),setFavourite:r.a.studyManager.studyList.setFavourite}}mergeProps(e,t,a){return{...e,...t,...a,setFavourite:(a,i)=>t.setFavourite(a,i).then(()=>t.loadStudies({...e.searchQuery,pagesize:e.isCardsView?d.o:d.n})).catch(()=>{}),setSorting:a=>{const i={...e.searchQuery,...a};t.search(i)}}}}var B=(new z).build();function N(e){const{currentQuery:t,openCreateStudyModal:a,isCardsView:i,setViewMode:n,refresh:r}=e,o=new f.a("studies-list-actions"),l=c.d.map(e=>({...e,label:s.a.createElement(b.Button,o("btn"),e.ico?s.a.createElement("i",o("btn-ico"),e.ico):s.a.createElement("span",null,e.label))}));return s.a.createElement("ul",o(),s.a.createElement("li",o("action"),s.a.createElement(b.Button,T()({},o("btn"),{onClick:a}),s.a.createElement("i",o("btn-ico"),"add_circle_outline"))),s.a.createElement("li",o("action"),s.a.createElement(b.Button,T()({},o("btn"),{onClick:r}),s.a.createElement("i",o("btn-ico"),"refresh"))),s.a.createElement("li",o("action"),s.a.createElement(b.Tabs,T()({},o("tabs"),{options:l,value:i?c.c.CARDS:c.c.TABLE,onChange:()=>n(i?c.c.TABLE:c.c.CARDS)}))))}a(1276),N.propTypes={currentQuery:i.PropTypes.string,openCreateStudyModal:i.PropTypes.any,isCardsView:i.PropTypes.bool,setViewMode:i.PropTypes.func};var U=N;class G extends i.Component{render(){return U(this.props)}}class V extends l.a{getComponent(){return G}mapStateToProps(e){const t=Object(l.k)(e,"routing.locationBeforeTransitions.pathname"),a=e.routing.locationBeforeTransitions.query;return{cleanPath:t,currentQuery:a,isCardsView:a.view===c.a.CARDS}}getMapDispatchToProps(){return{openCreateStudyModal:()=>b.ModalUtils.actions.toggle("createStudy",!0),setSearch:r.a.router.setSearch,refresh:r.a.router.reload}}mergeProps(e,t,a){return{...e,...t,...a,setViewMode(e){t.setSearch({page:1,view:e})}}}}var W=(new V).build(),Y=a(17);a(1278);var Q=function(e){const t=new f.a("form-create-study"),a=[{name:"title",InputComponent:{component:b.FormInput,props:{mods:["bordered"],placeholder:"Name of study",type:"text"}}},{name:"typeId",InputComponent:{component:b.FormSelect,props:{mods:["bordered"],placeholder:"Type",options:e.studyTypes}}}];return s.a.createElement(b.Modal,{modal:e.modal,title:"Create study"},s.a.createElement("div",t(),s.a.createElement(b.Form,T()({fields:a,submitBtn:{label:"Create",loadingLabel:"Creating..."},cancelBtn:{label:"Cancel"},onSubmit:e.createStudy,onCancel:e.modal.close},e))))};const Z=Object(Y.reduxForm)({form:d.c.createStudy})(Q),J=b.ModalUtils.connect({name:d.e.createStudy})(Z);var K=(new class{getComponent(){return J}mapStateToProps(e){const t=Object(l.k)(e,"studyManager.typeList.data.result",[],"Array").map(e=>({label:e.name,value:e.id}));return{studyTypes:Object(l.o)(t)}}getMapDispatchToProps(){return{create:e=>r.a.studyManager.study.create({},e),show:e=>Object(o.push)(d.i.studies(e))}}mergeProps(e,t,a){return{...e,...t,...a,createStudy(e){const a=t.create({...e,title:e.title.trim()});return a.then(e=>t.show(Object(l.k)(e,"result.id"))).catch(()=>{}),a}}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build();var H=function(e){const t=new f.a("studies-list"),{isLoading:a,isFilteredByMy:i,filterFields:n,paginationDetails:r,searchQueryDecode:o,searchQueryEncode:l}=e;return s.a.createElement(b.PageContent,{title:"My studies | Arachne"},s.a.createElement("div",t(),s.a.createElement(_.a,{isLoading:a,title:"".concat(i?"My":""," studies"),filterFields:n,Actions:s.a.createElement(W,null),paginationDetails:r,searchQueryDecode:o,searchQueryEncode:l},s.a.createElement(B,null)),s.a.createElement(K,null)))};var X=a(107);const $=(new class{getTypeList(e){return Object(l.k)(e,"studyManager.typeList.data.result")||[]}getStatusList(e){return Object(l.k)(e,"studyManager.statusList.data.result")||[]}getPaginationDetails(e){const t=Object(l.k)(e,"studyManager.studyList.data.result"),a=e.routing.locationBeforeTransitions.query,i=c.b[Object(l.k)(a,"view")||c.c.TABLE];return Object(_.b)({searchResults:t,numOfElsPerPage:i})}getTypeOptions(e){const t=e.map(e=>({label:e.name,value:e.id.toString()}));return Object(l.o)(t)}buildSelectorForTypeOptions(){return Object(R.createSelector)([this.getTypeList],this.getTypeOptions)}getStatusOptions(e){return e.map(e=>({label:e.name,value:e.id.toString(),color:e.name?d.k[e.name.toLowerCase()]:null}))}buildSelectorForStatusOptions(){return Object(R.createSelector)([this.getStatusList],this.getStatusOptions)}build(){return{getPaginationDetails:this.getPaginationDetails,getTypeOptions:this.buildSelectorForTypeOptions(),getStatusOptions:this.buildSelectorForStatusOptions()}}}).build();class ee extends i.Component{static get propTypes(){return{query:i.PropTypes.shape({view:i.PropTypes.string}),applySavedFilters:i.PropTypes.func}}constructor(e,t){super(e,t),this.persistFilters=this.persistFilters.bind(this)}componentDidMount(){window.addEventListener("beforeunload",this.onUnmount)}componentWillReceiveProps(e){if(e.query!==this.props.query&&this.props.loadStudies({...e.query,pagesize:e.query.view===c.a.CARDS?d.o:d.n}),e.pathname!==this.props.pathname){const t=new RegExp(d.i.studies()).test(e.pathname);this.persistFilters({...e.query,page:t?e.query.page:1})}else e.query.view===this.props.query.view&&e.pathname!==d.i.studies()||this.persistFilters(e.query)}componentWillUnmount(){window.removeEventListener("beforeunload",this.onUnmount)}onUnmount(){this.persistFilters({...this.props.query,page:1})}persistFilters(e){const t={};for(const a in e)l.c.isEmpty(e[a])||(t[a]=e[a]);r.a.studyManager.studyList.saveFilter(t)}render(){return H(this.props)}}class te extends X.a{getComponent(){return ee}mapStateToProps(e,t){const a=e.studyManager,i=t.location.query,n=i.my,r=Object(l.k)(e,"routing.locationBeforeTransitions.pathname","","String");return{query:i,isLoading:Object(l.k)(a,"studyList.isLoading",!1),isFilteredByMy:n,filterFields:(o={typeOptions:$.getTypeOptions(e),statusOptions:$.getStatusOptions(e)},[{label:"My studies",name:"my",type:h.a.toggle,forceOpened:!0,hasTitle:!1},{label:"My favorites",name:"favourite",type:h.a.toggle,forceOpened:!0,hasTitle:!1},{label:"Type",name:"type",type:h.a.enumMulti,forceOpened:!0,hasTitle:!0,options:o.typeOptions},{label:"Status",name:"status",type:h.a.enumMulti,forceOpened:!0,hasTitle:!0,options:o.statusOptions.map(e=>({label:s.a.createElement(g.a,e),value:e.value}))},{label:"Privacy",name:"privacy",type:h.a.enum,forceOpened:!0,hasTitle:!0,options:[{label:"Private",value:"true"},{label:"Public",value:"false"}]}]),paginationDetails:$.getPaginationDetails(e),pathname:r,...l.c.getPlainFiltersEncodeDecoder()};var o}getMapDispatchToProps(){return{loadStudies:r.a.studyManager.studyList.find,loadTypeList:r.a.studyManager.typeList.find,loadStatusList:r.a.studyManager.statusList.find,redirect:e=>Object(o.push)(e)}}mergeProps(e,t,a){return{...e,...t,...a,applySavedFilters(e){const a=new u.a(d.i.studies());a.setSearch(e),t.redirect(a.href())}}}getFetchers({params:e,dispatch:t,getState:a}){this.setKind("study-manager");const i=a().routing.locationBeforeTransitions.query;return{...super.getFetchers({params:e,getState:a,dispatch:t}),loadStudies:r.a.studyManager.studyList.find.bind(null,{...i,pagesize:i.view===c.a.CARDS?d.o:d.n}),loadTypeList:r.a.studyManager.typeList.find,loadStatusList:r.a.studyManager.statusList.find}}}var ae=(new te).build(),ie=a(174),se=a(148),ne=a(1208);function re({startDate:e,endDate:t,setStartDate:a,setEndDate:i,isEditable:n}){const r=new f.a("study-date-interval");return s.a.createElement("div",T()({id:"study-dates"},r({extra:"row"})),s.a.createElement("div",{className:"col-xs-12 col-sm-6"},s.a.createElement(ne.a,{title:"Start date",selected:e,maxDate:E()(t).add(-1,"days"),dateFormat:"MM/DD/YYYY",isEditable:n,onChange:a})),s.a.createElement("div",{className:"col-xs-12 col-sm-6"},s.a.createElement(ne.a,{title:"End date",selected:t,minDate:E()(e).add(1,"days"),dateFormat:"MM/DD/YYYY",isEditable:n,onChange:i})))}a(1280),re.propTypes={isEditable:i.PropTypes.bool.isRequired,endDate:i.PropTypes.any,setStartDate:i.PropTypes.func.isRequired,setEndDate:i.PropTypes.func.isRequired,startDate:i.PropTypes.any};var oe=re;var le=(new class{getComponent(){return oe}mapStateToProps(e){const t=Object(l.k)(e,"studyManager.study.data");return{studyId:Object(l.k)(t,"id"),startDate:Object(l.k)(t,"startDate")||Object(l.k)(t,"created"),endDate:Object(l.k)(t,"endDate"),isEditable:Object(l.k)(t,"permissions[".concat(d.p.editStudy,"]"),!1)}}getMapDispatchToProps(){return{load:r.a.studyManager.study.find,updateStudy:r.a.studyManager.study.update}}mergeProps(e,t,a){return Object.assign({...a,...e,...t,setStartDate:a=>{t.updateStudy({id:e.studyId},{startDate:a}).then(()=>t.load({id:e.studyId}))},setEndDate:a=>{t.updateStudy({id:e.studyId},{endDate:a}).then(()=>t.load({id:e.studyId}))}})}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build(),ce=a(57),de=a(10),pe=a(1282),ue=a(1283),me=a.n(ue),ye=a(64),ge=a.n(ye);a(1284);var he=function({percent:e}){const t=new f.a("percentage-bar");return s.a.createElement("div",t(),s.a.createElement("div",t("progress"),s.a.createElement("div",T()({},t("bar"),{style:{width:parseInt(e)+"%"}}))),s.a.createElement("div",t("label"),e,"% completeness"))};function fe({title:e,descr:t,isDone:a,onClick:i}){const n=new f.a("study-checklist-step");return s.a.createElement("div",T()({},n({modifiers:{done:a}}),{onClick:i}),s.a.createElement("div",n("status"),s.a.createElement("i",n("status-ico"),"done")),s.a.createElement("div",n("info"),s.a.createElement("label",n("title"),e),s.a.createElement("span",n("descr"),t)))}a(1286);var be=function(e){const t=new f.a("study-checklist"),a=new f.a("tooltip"),{closeDropdown:i,percent:n,stepList:r,startGuide:o,showGuideStep:l}=e;return s.a.createElement(ge.a,T()({},t(),{ref:"dropdown"}),s.a.createElement(ye.DropdownTrigger,null,s.a.createElement("div",T()({},t({element:"toggle",extra:a().className}),{"aria-label":"Click to open Study workflow checklist","data-tootik-conf":"top"}),s.a.createElement(he,{percent:n}))),s.a.createElement(ye.DropdownContent,null,s.a.createElement(b.Panel,T()({},t("content"),{title:"Study workflow checklist",mods:"black-header"}),s.a.createElement(me.a,null,s.a.createElement("div",t("step-list"),r.map((e,t)=>s.a.createElement(fe,T()({},e,{key:t,onClick:()=>{i(),l(t)}}))))),s.a.createElement("div",t("toolbar"),s.a.createElement("div",t("done-count"),"Done ",r.filter(e=>e.isDone).length," / ",r.length),s.a.createElement(b.Button,T()({},t("guide-btn"),{mods:["success"],label:"Guide me",onClick:()=>{i(),o()}}))))))},_e=a(228),ve=a(82);var Ee={getStepList:Object(R.createSelector)([e=>Object(l.k)(e,"studyManager.study.data",{description:null,startDate:1,endDate:2,files:[],participants:[],dataSources:[],analyses:[]},"Object"),e=>Object(_e.a)(e,ve.b.insightsLibrary)],(e,t)=>{const a=[{element:"#study-dates",position:"right",title:"Setup study duration",isDone:e.startDate!==e.endDate&&e.endDate},{element:"#study-objective",position:"right",title:"Define objective",isDone:!!e.description},{element:"#study-docs",position:"right",title:"Attach protocol and related documents",isDone:Object(l.k)(e,"files.length",0)>0},{element:"#study-participants",position:"right",title:"Invite contributors",isDone:Object(l.k)(e,"participants.length",0)>0},{element:"#study-data-sources",position:"right",title:"Select data sources",isDone:Object(l.k)(e,"dataSources.length",0)>0},{element:"#study-analyses",position:"left",title:"Create and execute analyses",isDone:Object(l.k)(e,"analyses.length",0)>0}];return t&&a.push({title:"Publish a paper",isDone:null!==e.paperId}),a})};const Pe=Object(pe.introJs)();class we extends i.Component{constructor(e){super(e),this.startGuide=this.startGuide.bind(this),this.showGuideStep=this.showGuideStep.bind(this),this.closeDropdown=this.closeDropdown.bind(this)}startGuide(){Pe.start()}showGuideStep(e){Pe.goToStepNumber(e).start()}closeDropdown(){this.refs.dropdown.hide()}render(){return be({...this.props,startGuide:this.startGuide,showGuideStep:this.showGuideStep,closeDropdown:this.closeDropdown})}}var Te=Object(de.connect)((function(e){const t=Ee.getStepList(e);return Pe.setOptions({steps:t.map(e=>({element:e.element,position:e.position,intro:e.title})),hidePrev:!0,hideNext:!0}),{percent:Math.floor(t.filter(e=>e.isDone).length/t.length*100),stepList:t}}),{})(we);function xe(e){const t=new f.a("study-actions"),a=new f.a("tooltip"),{canCreatePaper:i,isEditable:n,isFilledForPaper:r,goToPaper:o,publishPaper:l,publishedPaperId:c,reload:d,canDelete:p,remove:u,isInsightEnabled:m}=e;let y;return c?y=s.a.createElement("span",T()({},a(),{"aria-label":"Go to published paper","data-tootik-conf":"left"}),s.a.createElement(b.Button,t("publish"),s.a.createElement("i",T()({},t("publish-ico"),{onClick:o}),"description"),s.a.createElement("i",t("publish-ico-marker")))):n&&i&&r?y=s.a.createElement("span",T()({},a(),{"aria-label":"Publish a paper based on the study","data-tootik-conf":"left"}),s.a.createElement(b.Button,t("publish"),s.a.createElement("i",T()({},t("publish-ico"),{onClick:l}),"description"))):n&&i&&(y=s.a.createElement("span",T()({},t({element:"publish-tooltip",extra:a().className}),{"aria-label":"Complete following fields to publish a paper: title, description, start date and end date","data-tootik-conf":"left"}),s.a.createElement(b.Button,T()({},t("publish"),{disabled:!0}),s.a.createElement("i",t("publish-ico","grey"),"description")))),s.a.createElement("ul",t(),s.a.createElement("li",t("item"),s.a.createElement(Te,null)),s.a.createElement("li",t("item"),m&&y,s.a.createElement(b.Button,T()({},t("reload"),{onClick:d}),s.a.createElement("i",t("reload-ico"),"refresh")),p&&s.a.createElement(b.Button,T()({},t("remove"),{onClick:u}),s.a.createElement("i",t("remove-ico"),"delete"))))}a(1288),xe.propTypes={canCreatePaper:i.PropTypes.bool,isEditable:i.PropTypes.bool,isFilledForPaper:i.PropTypes.bool,goToPaper:i.PropTypes.func,publishPaper:i.PropTypes.func,publishedPaperId:i.PropTypes.number,reload:i.PropTypes.func,canDelete:i.PropTypes.bool,remove:i.PropTypes.func};var ke=xe;var Se=(new class{getComponent(){return ke}mapStateToProps(e){Object(l.k)(e,"studyManager");const t=Object(l.k)(e,"studyManager.study.data"),a=Object(l.k)(t,"permissions[".concat(d.p.editStudy,"]"),!1),i=Object(l.k)(t,"analyses",[]),s=Object(l.k)(t,"files",[]),n=Object(l.k)(t,"participants",[]),r=Object(l.k)(t,"dataSources",[]),o=Object(l.k)(t,"paperId",null),c=a&&0===i.length&&0===s.length&&n.length<=1&&0===r.length,p=Object(l.k)(t,"title")&&Object(l.k)(t,"description")&&Object(l.k)(t,"startDate")&&Object(l.k)(t,"endDate"),u=Object(l.k)(t,"status.availableActions",[]).includes(d.l.createPaper),m=Object(_e.a)(e,ve.b.insightsLibrary);return{studyId:Object(l.k)(t,"id"),canDelete:c,publishedPaperId:o,isEditable:a,isFilledForPaper:Boolean(p),canCreatePaper:u,title:Object(l.k)(t,"title"),isInsightEnabled:m}}getMapDispatchToProps(){return{loadStudy:r.a.studyManager.study.find,loadInsights:r.a.studyManager.studyInsights.find,createPaper:r.a.studyManager.study.paper.create,goBack:o.goBack,remove:r.a.studyManager.study.delete,goToPaper:e=>Object(o.push)(ce.f.insights({insightId:e}))}}mergeProps(e,t,a){return{...a,...e,...t,publishPaper:()=>{t.createPaper(null,{studyId:e.studyId,accessType:"PUBLIC"}).then(e=>t.goToPaper(e.id))},reload:()=>{t.loadStudy({id:e.studyId}),t.loadInsights({studyId:e.studyId})},remove:()=>{l.c.confirmDelete({message:"Are you sure you want to delete study '".concat(e.title,"'?")}).then(()=>{t.remove({id:e.studyId}).then(()=>t.goBack()).catch(()=>{})})},goToPaper:()=>t.goToPaper(e.publishedPaperId)}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build();function Ce(e){const{breadcrumbList:t,backurl:a,isEditable:i,openEditTitleModal:n,studyTitle:r,isFavourite:o,setFavourite:l}=e,c=new f.a("study-toolbar-title");return s.a.createElement(b.Toolbar,{caption:s.a.createElement("div",c(),s.a.createElement("span",T()({},c("title"),{id:"study-title"}),r),s.a.createElement("span",T()({},c({element:"fav-icon",modifiers:{marked:o}}),{onClick:l}),o?"star":"star_border")),onEdit:i?n:null,isEditable:i,breadcrumbList:t,backUrl:a},s.a.createElement(Se,null))}a(1290),Ce.propTypes={breadcrumbList:i.PropTypes.array.isRequired,backurl:i.PropTypes.string,isEditable:i.PropTypes.bool.isRequired,openEditTitleModal:i.PropTypes.func.isRequired,studyTitle:i.PropTypes.string.isRequired,isFavourite:i.PropTypes.bool,setFavourite:i.PropTypes.func};var Ae=Ce;var Me=(new class{getComponent(){return Ae}mapStateToProps(e){const t=Object(l.k)(e,"studyManager.study.data"),a=Object(l.k)(t,"favourite",!1);return{studyTitle:Object(l.k)(t,"title",""),isEditable:Object(l.k)(t,"permissions[".concat(d.p.editStudy,"]"),!1),breadcrumbList:[{label:"My studies",link:d.i.studies()}],backurl:d.i.studies(),isFavourite:a}}getMapDispatchToProps(){return{openEditTitleModal:b.ModalUtils.actions.toggle.bind(null,d.e.editStudyTitle,!0),loadStudy:r.a.studyManager.study.find,favourite:r.a.studyManager.studyList.setFavourite}}mergeProps(e,t,a){return{...e,...t,...a,setFavourite:()=>t.favourite(a.studyId,(!e.isFavourite).toString()).then(()=>t.loadStudy({id:a.studyId})).catch(()=>{})}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build();function Oe(e){const t=new f.a("study-form-update-title"),a=[{name:"title",InputComponent:{component:b.FormInput,props:{mods:["bordered"],placeholder:"Title of study",type:"text"}}}];return s.a.createElement(b.Modal,{modal:e.modal,title:"Update study title"},s.a.createElement("div",t(),s.a.createElement(b.Form,T()({mods:"spacing-sm",fields:a,submitBtn:{label:"Save",loadingLabel:"Saving...",mods:["success","rounded"]},cancelBtn:{label:"Cancel"},onSubmit:e.doSubmit,onCancel:e.modal.close},e))))}a(1292),Oe.propTypes={doSubmit:i.PropTypes.func.isRequired,modal:i.PropTypes.object.isRequired};var De=Oe;let Le=b.ModalUtils.connect({name:d.e.editStudyTitle})(De);Le=Object(Y.reduxForm)({form:d.c.editStudyTitle,enableReinitialize:!0})(Le);var je=(new class{getComponent(){return Le}mapStateToProps(e){const t=Object(l.k)(e,"studyManager.study.data");return{studyId:Object(l.k)(t,"id"),initialValues:{title:Object(l.k)(t,"title")}}}getMapDispatchToProps(){return{updateStudy:r.a.studyManager.study.update,closeModal:()=>b.ModalUtils.actions.toggle(d.e.editStudyTitle,!1),loadStudy:r.a.studyManager.study.find}}mergeProps(e,t,a){return{...a,...e,...t,doSubmit({title:a}){const i=t.updateStudy({id:e.studyId},{title:a.trim()},!1);return i.then(()=>t.closeModal()).then(()=>t.loadStudy({id:e.studyId})).catch(()=>{}),i}}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build();a(1294);var Fe=function(e){const t=new f.a("study-form-add-participant"),a=[{name:"role",InputComponent:{component:b.FormSelect,props:{mods:["bordered"],placeholder:"Role",unselectable:!1,options:d.f}}},{name:"participantId",InputComponent:{component:b.FormAutocomplete,props:{mods:["bordered"],placeholder:"Search by name",options:e.participantOptions,fetchOptions:e.loadParticipantOptions,clearable:!1}}},{name:"message",InputComponent:{component:b.FormTextarea,props:{placeholder:"Message for invitee (optional)"}}}];return s.a.createElement(b.Modal,{modal:e.modal,title:"Add participant"},s.a.createElement("div",t(),s.a.createElement(b.Form,T()({mods:"spacing-actions-sm",fields:a,submitBtn:{label:"Add",loadingLabel:"Adding...",mods:["success","rounded"]},cancelBtn:{label:"Cancel"},onSubmit:e.doSubmit,onCancel:e.modal.close},e))))};class Ie extends i.Component{static get propTypes(){return{isOpened:i.PropTypes.bool,loadParticipantOptions:i.PropTypes.func}}componentWillReceiveProps(e){!1===this.props.isOpened&&!0===e.isOpened&&this.props.loadParticipantOptions({query:""})}render(){return Fe(this.props)}}let Re=Object(Y.reduxForm)({form:d.c.addParticipant})(Ie);Re=b.ModalUtils.connect({name:d.e.addParticipant})(Re);var qe=(new class{getComponent(){return Re}mapStateToProps(e){const t=Object(l.k)(e,"studyManager"),a=(Object(l.k)(t,"participantList.data")||[]).slice(0,10).map(e=>({label:"".concat(e.firstname," ").concat(e.lastname),value:e.id}));return{studyId:Object(l.k)(t,"study.data.id"),studyName:Object(l.k)(t,"study.data.title"),isOpened:Object(l.k)(e,"modal.addParticipant.isOpened",!1),participantOptions:a,initialValues:{role:d.f[1].value}}}getMapDispatchToProps(){return{addParticipant:r.a.studyManager.study.participants.create,loadStudy:r.a.studyManager.study.find,loadParticipants:({query:e,studyId:t})=>r.a.studyManager.participantList.find({query:e,studyId:t}),openConfirmParticipant:(e,t)=>b.ModalUtils.actions.toggle(d.e.confirmParticipant,!0,{user:e,studyName:t}),closeModal:()=>b.ModalUtils.actions.toggle(d.e.addParticipant,!1),resetForm:Y.reset.bind(null,d.c.addParticipant)}}mergeProps(e,t,a){return{...a,...e,...t,doSubmit({participantId:a,role:i,message:s}){const n=t.addParticipant({studyId:e.studyId},{userId:a,role:i,message:s}),r=e.participantOptions.filter(e=>e.value===a)[0];return n.then(()=>t.resetForm()).then(()=>t.closeModal()).then(()=>t.openConfirmParticipant(r,e.studyName)).then(()=>t.loadStudy({id:e.studyId})).catch(()=>{}),n},loadParticipantOptions:({query:a})=>{const i=e.studyId;return void 0===i?[]:t.loadParticipants({query:a,studyId:i})}}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build(),ze=a(30);a(1296);var Be=function(e){const t=new f.a("study-confirm-participant");return s.a.createElement(b.Modal,{modal:e.modal,title:"Add participant"},s.a.createElement("div",t(),"Your invite has been sent to",s.a.createElement("br",null),s.a.createElement(b.Link,{to:ze.i.profile(e.participantId)},e.participantName)," for",s.a.createElement("br",null),s.a.createElement("span",t("study-name"),e.studyName)))};const Ne=b.ModalUtils.connect({name:d.e.confirmParticipant})(Be);var Ue=(new class{getComponent(){return Ne}mapStateToProps(e){const t=Object(l.k)(e,"modal.confirmParticipant");return{participantId:Object(l.k)(t,"data.user.value",-1),participantName:Object(l.k)(t,"data.user.label",""),studyName:Object(l.k)(t,"data.studyName","Study")}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps})}}).build(),Ge=a(330),Ve=a(1222),We=a(1216),Ye=a(1217),Qe=a(40),Ze=a.n(Qe),Je=a(1200),Ke=a.n(Je),He=a(459),Xe=a(150),$e=a(5);function et({details:e}){const t=new f.a("comment-details");return s.a.createElement("span",t(),e.label,s.a.createElement("span",t("entity"),e.entity))}function tt(e){const t=new f.a("study-insight-summary"),{id:a,title:i,descr:n,createdAt:r,commentsCount:o,analysis:{id:l,title:c},dataSource:{name:d},submission:{id:p,status:u},resultFiles:m,annotationList:y}=e,g=$e.l.insight({submissionId:p});return s.a.createElement("div",t(),s.a.createElement("div",t("main"),s.a.createElement("div",t("heading"),s.a.createElement(b.Link,T()({},t("analysis-title"),{to:$e.l.analyses(l)}),c),s.a.createElement(b.Link,T()({},t("insight-title"),{to:g}),i),s.a.createElement("span",T()({},t("date"),{title:Ze()(r).tz(Ze.a.tz.guess()).format(P.b)}),Ze()(r).tz(Ze.a.tz.guess()).format(P.e))),s.a.createElement("span",T()({},t("descr"),{ref:e=>{e&&Ke()(e,{clamp:2,useNativeClamp:!1,truncationChar:"..."})}}),n),s.a.createElement("ul",t("detail-list"),s.a.createElement("li",T()({},t("detail","data-source"),{title:"Data source: ".concat(d)}),s.a.createElement("img",T()({},t("data-source-ico"),{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAZVJREFUSMftlbFuE0EQhr+ZRXLhwklpVyRSnoAUyA8AykWQyiXJC1jrntShPXykB4nSogLZggKJDksWEi8QI4G3SONrXBjLuxRcYdm+nHGJ/EvbzOzMN7t/MbBTgSQv0Wg0TK1WOwkhRMADETkA9rJ0GkIYisgA6Dnnep1OZ74xwFp7JiIvgfsbDvpDVW0cx+8LAdbaCxF5fdfrchRCCBdJkrxdDOoKUeRqi+ZZqbxYDuqai2GL5rm16wCXW0I88LwQ4L3/rKpnwPAfmg9F5Kkx5kshQFWv4jj+4Jw7CiGcAtfAV+AW+J2d2yx2LSKRc+6oUqn05vP5igf31kxzbq3d9963kiTpAt2i8ZvN5sF4PH4lIqfAsyLALxF5YoyJWq3WR6DnvR+USqWbcrmcAkwmk73pdHqoqsdABDwCDPBzkxdcAm+yggiIVJXZbEaapotfuWIfO5Pz9H+bbJYD/X7/e71e/xZCeAjsb+Iwf00+b7fb75YTdy6carX6WEROgGPgkIWFA9wAAxHpjkajT3kLZ6dC/QGYmMt1rg7rhAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wNy0xMVQxMjowOTozNSswMDowMKGh56UAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDctMTFUMTI6MDk6MzUrMDA6MDDQ/F8ZAAAAKHRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy90bXAvbWFnaWNrLTEybTNGakth3yKw0gAAAABJRU5ErkJggg=="})),s.a.createElement("span",t("data-source"),d)),s.a.createElement("li",t("detail","status"),s.a.createElement("span",t("status-label"),s.a.createElement(Xe.a,{status:u}))))),y.length?s.a.createElement("div",t("annotation-block"),s.a.createElement("div",t("annotation-list"),y.map((e,a)=>s.a.createElement("div",T()({},t("annotation"),{key:a}),s.a.createElement(He.a,T()({},e,{ResponseDetail:s.a.createElement(et,{details:e.responseDetails}),dateFormat:P.e}))))),o>y.length?s.a.createElement("div",t("annotation-show-all"),s.a.createElement(b.Link,{to:g},"see all ","".concat(o,o>1?" annotations":" annotation"))):null):null)}a(1304);var at=function(e){const t=new f.a("study-insight-list"),{insightList:a}=e;return a&&a.length?s.a.createElement(b.Panel,T()({},t(),{title:"Insights"}),s.a.createElement("div",t("content"),a.map((e,t)=>s.a.createElement(tt,e)))):null},it=a(45);const st=(new class{getRawInsights(e){return Object(l.k)(e,"studyManager.studyInsights.data",[],"Array")}getInsights(e){return e.map(e=>({title:e.name,descr:e.description,createdAt:e.created,analysis:{id:e.analysis.id,title:e.analysis.title},dataSource:{id:e.dataSource.id,...Object(it.c)(e.dataSource)},submission:{id:e.submission.id,status:e.submission.status},resultFiles:e.resultFiles,commentsCount:e.commentsCount,annotationList:e.recentCommentEntities.map(e=>{const t=e.topic.comments[0];return{date:t.date,text:t.comment,user:e.topic.comments[0].author,responseDetails:{label:"about",entity:e.label||e.name}}})}))}buildSelectorForInsights(){return Object(R.createSelector)([this.getRawInsights],this.getInsights)}build(){return{getInsights:this.buildSelectorForInsights()}}}).build();class nt extends i.Component{render(){return at(this.props)}}var rt=(new class{getComponent(){return nt}mapStateToProps(e){return{insightList:st.getInsights(e)}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps})}}).build(),ot=a(1218);a(1201);var lt=a(1347),ct=a(108),dt=a.n(ct);function pt({url:e,participant:t}){const a=new f.a("participant-card-avatar");return s.a.createElement("div",a(),s.a.createElement("div",a("avatar-container"),s.a.createElement(b.Avatar,{mods:["round","bordered"],img:e}),s.a.createElement(b.Link,{to:t.link},t.fullName)))}function ut({roleGroup:e,hasEditPermissions:t,addParticipant:a,changeRole:i,removeParticipant:n}){const r=new f.a("study-participants-item"),o=(new f.a("tooltip"),e[0]),l={hover:!0,actionable:t},c=[];return o.canBeRecreated&&c.push(s.a.createElement("span",T()({key:"recreate"},r("action"),{onClick:()=>a({userId:o.id,role:o.role.id})}),s.a.createElement("i",r("action-ico","recreate"),"cached"))),o.canBeRemoved&&c.push(s.a.createElement("span",T()({key:"remove"},r("action"),{onClick:()=>n(o.id,o.fullName)}),s.a.createElement("i",r("action-ico","remove"),"close"))),s.a.createElement(b.ListItem,T()({},r({modifiers:{displaced:t&&!o.canBeRemoved&&!o.canBeRecreated}}),{mods:l,actions:c}),s.a.createElement("div",r("role"),s.a.createElement("div",{"data-tootik-conf":"left multiline"},o.canBeRemoved?s.a.createElement(b.Select,T()({},r("role-select"),{mods:["bordered"],placeholder:"Role",value:o.role.id,isMulti:!1,options:d.f,onChange:e=>i(o.id,e)})):s.a.createElement("span",null,o.role.name))),s.a.createElement("div",r("comment"),o.comment&&s.a.createElement(b.Link,T()({},r({element:"comment",extra:"ac-tooltip"}),{"aria-label":"Comment: ".concat(o.comment),"data-tootik-conf":"top multiline"}),s.a.createElement("div",r("comment-icon"),"chat_bubble")),o.role.id===d.g.DATA_SET_OWNER&&s.a.createElement(b.Link,T()({},r({element:"comment",extra:"ac-tooltip"}),{"aria-label":"Role was added automatically as following ".concat(dt()("datasource",e.length)," owner: ").concat(e.map(e=>e.ownedDataSource.name).join(", ")),"data-tootik-conf":"top multiline"}),s.a.createElement("div",r("comment-icon"),"info_outline"))),s.a.createElement("div",r("status",o.status),o.status))}function mt(e){const{roles:t,hasEditPermissions:a,addParticipant:i,changeRole:n,removeParticipant:r}=e,o=new f.a("study-participant-lines"),l=t[0],c=Object(lt.groupBy)(t,e=>"".concat(e.status,"_").concat(e.role.id,"_").concat(e.id)),p=Object.values(c);return s.a.createElement("li",null,s.a.createElement("div",o("group"),s.a.createElement(pt,T()({participant:l},o("card"),{url:d.a.userpic(l.id)})),s.a.createElement("div",o("roles"),s.a.createElement("ul",null,p.map((e,t)=>s.a.createElement(ut,{roleGroup:e,hasEditPermissions:a,addParticipant:i,changeRole:n,removeParticipant:r,key:t}))))))}function yt(e){const t=new f.a("study-participants-list"),{addParticipant:a,hasEditPermissions:i,changeRole:n,openAddParticipantModal:r,participantList:o,removeParticipant:l}=e,c=function(e){return e.reduce((e,t)=>(e.set(t.id,[...e.get(t.id)||[],t]),e),new Map)}(o);return s.a.createElement("div",t(),s.a.createElement("ul",null,Array.from(c.values()).filter(e=>!!e).map(e=>s.a.createElement(mt,{roles:e,key:e[0].id,hasEditPermissions:i,addParticipant:a,changeRole:n,removeParticipant:l})),0===c.size&&s.a.createElement(b.ListItem,T()({label:"No participants"},t({extra:"first last"}))),i&&s.a.createElement(b.ListItem,T()({label:"Add participant",mods:"add",onClick:r},t({extra:"first last"})))))}a(1348),pt.propTypes={url:i.PropTypes.string.isRequired,participant:i.PropTypes.object.isRequired},ut.propTypes={endOfGroup:i.PropTypes.bool,hasEditPermissions:i.PropTypes.bool.isRequired,removeParticipant:i.PropTypes.func.isRequired,roleGroup:i.PropTypes.array.isRequired},mt.propTypes={hasEditPermissions:i.PropTypes.bool.isRequired,openAddParticipantModal:i.PropTypes.func,participantList:i.PropTypes.array,removeParticipant:i.PropTypes.func.isRequired,roles:i.PropTypes.array.isRequired},yt.propTypes={hasEditPermissions:i.PropTypes.bool.isRequired,openAddParticipantModal:i.PropTypes.func,participantList:i.PropTypes.array,removeParticipant:i.PropTypes.func.isRequired};var gt=yt;const ht=(new class{getRawParticipantList(e){return Object(l.k)(e,"studyManager.study.data.participants")||[]}getRawDataSourceList(e){return Object(l.k)(e,"studyManager.study.data.dataSources",[],"Array")}hasEditPermissions(e){return Object(l.k)(e,"studyManager.study.data.permissions[".concat(d.p.inviteContributor,"]"),!1)}getStatus(e){let t=e.status.toLowerCase();return"deleted"===t&&(t="disabled"),t}isDeleted(e){return e.status===d.h.DELETED}isApproved(e){return e.status===d.h.APPROVED}canBeRemoved(e,t){let a;if(this.isDeleted(e))a=!1;else switch(e.role.id){case d.g.CONTRIBUTOR:a=!0;break;case d.g.DATA_SET_OWNER:a=!1;break;case d.g.LEAD_INVESTIGATOR:a=t>1||e.status===d.h.PENDING}return a}canBeRecreated(e){return e.canBeRecreated&&this.isDeleted(e)&&e.role.id!==d.g.DATA_SET_OWNER}getParticipantList(e,t,a){const i=e.filter(e=>e.role.id===d.g.LEAD_INVESTIGATOR).filter(e=>this.isApproved(e)).length;return e.map(e=>({id:e.id,fullName:e.fullName,role:e.role,link:d.i.user(e.id),status:this.getStatus(e),canBeRemoved:this.canBeRemoved(e,i)&&t,canBeRecreated:this.canBeRecreated(e)&&t,comment:e.comment,ownedDataSource:e.ownedDataSourceId?Object(it.c)(a.filter(t=>t.id===e.ownedDataSourceId)[0]||{}):{}}))}buildSelectorForParticipantList(){return Object(R.createSelector)([this.getRawParticipantList,this.hasEditPermissions,this.getRawDataSourceList],this.getParticipantList.bind(this))}build(){return{getParticipantList:this.buildSelectorForParticipantList(),hasEditPermissions:this.hasEditPermissions}}}).build();var ft=(new class{getComponent(){return gt}mapStateToProps(e){const t=Object(l.k)(e,"studyManager.study.data");return{studyId:Object(l.k)(t,"id"),participantList:ht.getParticipantList(e),hasEditPermissions:ht.hasEditPermissions(e)}}getMapDispatchToProps(){return{openAddParticipantModal:b.ModalUtils.actions.toggle.bind(null,d.e.addParticipant,!0),loadStudy:r.a.studyManager.study.find,addParticipant:r.a.studyManager.study.participants.create,updateParticipant:r.a.studyManager.study.participants.update,removeParticipant:r.a.studyManager.study.participants.delete}}mergeProps(e,t,a){return{...a,...e,...t,addParticipant({userId:a,role:i}){t.addParticipant({studyId:e.studyId},{userId:a,role:i}).then(()=>t.loadStudy({id:e.studyId}))},changeRole(a,i){t.updateParticipant({studyId:e.studyId,userId:a},{role:i}).then(()=>t.loadStudy({id:e.studyId}))},removeParticipant(a,i){l.c.confirmDelete({message:"Are you sure you want to remove ".concat(i," from participants?")}).then(()=>{t.removeParticipant({studyId:e.studyId,userId:a}).then(()=>t.loadStudy({id:e.studyId}))})}}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build(),bt=a(1219);a(1352);var _t=function(e){const t=[{id:"study-docs",label:"Documents",content:s.a.createElement(ot.a,null)},{id:"study-participants",label:"Participants",content:s.a.createElement(ft,null)},{id:"study-data-sources",label:"Data sources",content:s.a.createElement(bt.a,null)}],{openedSection:a,onTabChange:i}=e;return s.a.createElement(b.TabbedPane,{modsContent:["detached-content"],sections:t,value:a,onChange:i})};function vt(e){const t=Object(f.a)("study-objective-view");let{description:a=""}=e;return s.a.createElement("div",t(),s.a.createElement("div",t("content"),s.a.createElement(b.ExpandableText,{text:a})))}a(1354);var Et=(new class{getComponent(){return vt}mapStateToProps(e){const t=Object(l.k)(e,"studyManager.study.data");return{description:Object(l.k)(t,"description")}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps})}}).build();function Pt(e){const t=new f.a("study-objective-edit"),a=[{name:"description",InputComponent:{component:b.FormTextarea,props:{placeholder:"Add Study Objective",reference:t=>{t&&e.setTextarea(t)}}}}];return s.a.createElement("div",t(),s.a.createElement(b.Form,T()({mods:["actions-inline"],fields:a,submitBtn:{label:"Save",loadingLabel:"Saving...",mods:["success"]},cancelBtn:{label:"Cancel",mods:["cancel"]},onSubmit:e.setDescr,onCancel:e.cancel},e)))}a(1356),Pt.propTypes={cancel:i.PropTypes.func.isRequired,setDescr:i.PropTypes.func.isRequired};var wt=Pt;class Tt extends i.Component{constructor(){super(),this.setTextarea=this.setTextarea.bind(this)}componentDidMount(){this.textarea&&this.textarea.focus()}setTextarea(e){this.textarea=e}render(){return wt({...this.props,setTextarea:this.setTextarea})}}const xt=Object(Y.reduxForm)({form:"studyObjective",enableReinitialize:!0})(Tt);var kt=(new class{getComponent(){return xt}mapStateToProps(e){const t=Object(l.k)(e,"studyManager.study.data");return{studyId:Object(l.k)(t,"id"),initialValues:{description:Object(l.k)(t,"description")}}}getMapDispatchToProps(){return{load:r.a.studyManager.study.find,updateStudy:r.a.studyManager.study.update}}mergeProps(e,t,a){return{...a,...e,...t,setDescr:({description:i})=>t.updateStudy({id:e.studyId},{description:i}).then(()=>t.load({id:e.studyId})).then(a.setViewMode),cancel:()=>a.setViewMode()}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build();a(1358);var St=function({isEditable:e}){const t=new f.a("study-objective");return s.a.createElement(b.PanelEditable,T()({},t(),{id:"study-objective",title:"Study objective",isEditable:e,viewContent:s.a.createElement(Et,null),editContent:s.a.createElement(kt,null)}))};var Ct=(new class{getComponent(){return St}mapStateToProps(e){const t=Object(l.k)(e,"studyManager.study.data");return{isEditable:Object(l.k)(t,"permissions[".concat(d.p.editStudy,"]"),!1)}}build(){return l.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps})}}).build();var At=function(e){const{openedSection:t,onTabChange:a,isInsightEnabled:i}=e;return s.a.createElement("div",null,s.a.createElement(Ct,null),s.a.createElement(_t,{openedSection:t,onTabChange:a}),i&&s.a.createElement(rt,null))},Mt=a(1220),Ot=a(1221);var Dt=function(){return s.a.createElement("div",null,s.a.createElement(Ot.a,null),s.a.createElement(Mt.a,null))};function Lt(e){const{studyTitle:t,isLoading:a,id:i,onBannerActed:n,openedSection:r,onTabChange:o,canView:l,isInsightEnabled:c}=e,d=new f.a("study-manager-view");return s.a.createElement(b.PageContent,{title:"".concat(t," | Arachne")},s.a.createElement("div",d(),l?s.a.createElement(se.a,T()({},d("container"),{studyId:i,onAction:n,disabled:a}),s.a.createElement(Me,{studyId:i}),s.a.createElement("div",d("content"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12 col-lg-6"},s.a.createElement(le,null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12"},s.a.createElement(At,{openedSection:r,onTabChange:o,isInsightEnabled:c})))),s.a.createElement("div",{className:"col-xs-12 col-lg-6"},s.a.createElement(Dt,{studyId:i}))))):s.a.createElement(M.a,{message:"Access denied or study does not exist"}),s.a.createElement(b.LoadingPanel,{active:a})),s.a.createElement(je,null),s.a.createElement(Ye.a,null),s.a.createElement(We.a,null),s.a.createElement(qe,null),s.a.createElement(Ue,null),s.a.createElement(Ve.a,null),s.a.createElement(Ge.a,null))}a(1364),Lt.propTypes={studyTitle:i.PropTypes.string,isLoading:i.PropTypes.bool,id:i.PropTypes.number,accessGranted:i.PropTypes.bool,goBack:i.PropTypes.func};var jt=Lt;class Ft extends i.Component{static get propTypes(){return{id:i.PropTypes.number,studyTitle:i.PropTypes.string,isLoading:i.PropTypes.bool,accessGranted:i.PropTypes.bool,loadTypeList:i.PropTypes.func,loadAnalysisTypeList:i.PropTypes.func,loadStatusList:i.PropTypes.func,loadStudy:i.PropTypes.func,loadInsights:i.PropTypes.func,loadTransitions:i.PropTypes.func,canView:i.PropTypes.bool,isStudyLoadingComplete:i.PropTypes.bool}}componentWillMount(){this.state={openedSection:"Documents"},this.onTabChange=this.onTabChange.bind(this)}componentWillReceiveProps(e){if(e&&Array.isArray(e.participants)&&e.kind===d.m.WORKSPACE){const e=this.props.participants.find(e=>e.role.id===d.g.LEAD_INVESTIGATOR).id;this.props.goToWorkspace(e)}else this.props.id!==e.id&&e.id&&this.props.loadStudy({id:e.id}),!1===this.props.isStudyLoadingComplete&&!0===e.isStudyLoadingComplete&&e.canView&&this.loadDetailedInfo(e)}onTabChange(e){this.setState({openedSection:e})}loadDetailedInfo(e){this.props.loadTypeList(),this.props.loadAnalysisTypeList(),this.props.loadStatusList(),this.props.isInsightEnabled&&this.props.loadInsights({studyId:e.id}),this.props.loadTransitions({studyId:e.id})}render(){return jt({...this.props,...this.state,onTabChange:this.onTabChange})}}class It extends X.a{getComponent(){return Ft}mapStateToProps(e,t){const a=Object(l.k)(e,"studyManager"),i=Object(l.k)(a,"study.data",{}),s=[i?Object(l.k)(i,"title"):"","My studies"],n=Object(l.k)(a,"study.isLoading"),r=Object(l.k)(a,"study.isUpdating"),o=Object(l.k)(a,"typeList.isLoading"),c=Object(l.k)(i,"participants"),d=Object(l.k)(c,"isSaving"),p=Object(l.k)(i,"kind"),u=!y()(i)&&!n,m=Object(l.m)(i),g=Object(_e.a)(e,ve.b.insightsLibrary);return{id:parseInt(t.routeParams.studyId,10),studyTitle:s.join(" | "),isLoading:n||r||o||d,participants:c,kind:p,canView:m,isStudyLoadingComplete:u,isInsightEnabled:g}}getMapDispatchToProps(){return{loadTypeList:r.a.studyManager.typeList.find,loadAnalysisTypeList:r.a.studyManager.analysisTypes.find,loadStatusList:r.a.studyManager.statusList.find,loadStudy:r.a.studyManager.study.find,loadInsights:r.a.studyManager.studyInsights.find,loadTransitions:r.a.studyManager.availableTransitions.query,goToWorkspace:e=>Object(o.push)(ie.c.userWorkspace(e))}}mergeProps(e,t,a){return{...a,...e,...t,onBannerActed:()=>t.loadStudy({id:e.id})}}getFetchers({params:e,dispatch:t,getState:a}){const i=e.studyId;return{...super.getFetchers({params:e,dispatch:t,getState:a}),loadStudy:t(r.a.studyManager.study.find({id:i})).then(e=>this.setKind(Object(l.k)(e,"kind")))}}}var Rt=(new It).build(),qt=a(328),zt=a(329);var Bt=function({file:e,isLoading:t,toolbarOpts:a,downloadLink:i,urlParams:n,pageTitle:r,queryParams:o}){return s.a.createElement(zt.a,{file:e,isLoading:t,toolbarOpts:a,downloadLink:i,urlParams:n,pageTitle:r,queryParams:o})},Nt=a(23);class Ut extends qt.a{render(){return Bt(this.props)}}class Gt extends X.a{getComponent(){return Ut}getType({params:e}){return Nt.d.STUDY}getId({params:e}){return e.studyId}mapStateToProps(e,t){const a=t.params.fileUuid,i=t.params.studyId,s=Object(l.k)(e,"studyManager.studyDocumentFile.isLoading",!1),n=Object(l.k)(e,"studyManager.studyDocumentFile.data"),r=[Object(l.k)(n,"name","Study document file"),"Arachne"],o={fileUuid:a,studyId:i},c=d.i.studies(Object(l.k)(n,"studyId")),p={backUrl:c,breadcrumbList:[{label:"Studies",link:d.i.studies()},{label:Object(l.k)(n,"studyLabel"),link:c}],title:Object(l.k)(n,"label")||Object(l.k)(n,"name")};return{file:n,urlParams:o,isLoading:s,pageTitle:r.join(" | "),downloadLink:d.a.studyDocumentDownload(o),toolbarOpts:p}}getMapDispatchToProps(){return{loadFile:r.a.studyManager.studyDocumentFile.find}}}var Vt=(new Gt).build(),Wt=a(302);t.default=function(){return[s.a.createElement(n.Route,{path:"studies",component:ae,onEnter:l.c.getSavedFiltersRestorer({getSavedFilter:Wt.a.actions.getSavedFilter,basePath:d.i.studies()})}),s.a.createElement(n.Route,{path:"studies/:studyId",component:Rt}),s.a.createElement(n.Route,{path:"studies/:studyId/documents/:fileUuid",component:Vt})]}}}]);