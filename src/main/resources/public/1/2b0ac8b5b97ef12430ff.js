(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1216:function(e,t,a){"use strict";var s=a(1),o=a(2),n=a(22),i=a(0),r=a.n(i),d=a(4),c=a(17),l=a(6),u=a(331);var m=function(e){return r.a.createElement(u.a,e)};const p=Object(c.reduxForm)({form:n.c.createDocumentFiles})(m);var y=(new class{getComponent(){return p}mapStateToProps(e){const t=Object(s.k)(e,"studyManager.study.data"),a=Object(s.k)(e,"form.".concat(n.c.createDocumentFiles,".values.files"),[]);return{studyId:Object(s.k)(t,"id"),canSubmit:a.length>0}}getMapDispatchToProps(){return{closeModal:()=>o.ModalUtils.actions.toggle(n.e.createDocument,!1),createDocument:l.a.studyManager.study.document.create,loadStudy:l.a.studyManager.study.find,reset:()=>Object(c.reset)(n.c.createDocumentFiles)}}mergeProps(e,t,a){return{...a,...e,...t,doSubmit({files:a}){const o=a.map(a=>t.createDocument({studyId:e.studyId},Object(s.f)({label:a.label,file:a})));return Promise.all(o).then(()=>t.reset()).then(()=>t.closeModal()).then(()=>t.loadStudy({id:e.studyId}))}}}build(){return s.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build(),g=a(460);var h=function(e){return r.a.createElement(g.a,e)};class b extends i.Component{static get propTypes(){return{addLink:i.PropTypes.func}}componentWillMount(){this.props.addLink()}render(){return h(this.props)}}class f extends s.a{getComponent(){return b}getFormParams(){return{form:n.c.createDocumentLinks}}mapStateToProps(e){const t=Object(s.k)(e,"studyManager.study.data"),a=Object(s.k)(e,"form.createDocumentLinks.values.".concat("createDocumentLink"),[]),o=0===a.length?"Add link":"Add another link";return{studyId:Object(s.k)(t,"id"),initialValues:{createDocumentLink:a},links:a,addButtonTitle:o,fieldName:"createDocumentLink",canSubmit:a.filter(e=>e.label&&e.value).length>0}}getMapDispatchToProps(){return{closeModal:()=>o.ModalUtils.actions.toggle(n.e.createDocument,!1),createDocument:l.a.studyManager.study.document.create,loadStudy:l.a.studyManager.study.find,add:e=>Object(c.change)(n.c.createDocumentLinks,"createDocumentLink",e),reset:()=>c.reset.bind(null,n.c.createDocumentLinks)}}mergeProps(e,t,a){return{...a,...e,...t,doSubmit(){const a=e.links.map(a=>t.createDocument({studyId:e.studyId},Object(s.f)({label:a.label?a.label:a.value,link:a.value}))),o=Promise.all(a);return o.then(()=>t.reset()).then(()=>t.closeModal()).then(()=>t.loadStudy({id:e.studyId})).catch(e=>{console.error(e)}),o},addLink(){const a=[].concat(e.links);a.push({label:"",value:""}),t.add(a)}}}}var S=(new f).build();function _(e){const t=new d.a("study-form-create-document"),a=[{label:"Computer",content:r.a.createElement(y,null)},{label:"Links",content:r.a.createElement(S,null)}];return r.a.createElement("div",t(),r.a.createElement(o.Modal,{modal:e.modal,title:"Add document"},r.a.createElement("div",t("content"),r.a.createElement(o.TabbedPane,{sections:a}),r.a.createElement(o.LoadingPanel,{isActive:e.isLoading}))))}a(1300),_.propTypes={modal:i.PropTypes.object.isRequired};var k=_;const v=o.ModalUtils.connect({name:n.e.createDocument})(k);t.a=(new class{getComponent(){return v}mapStateToProps(e){return{isLoading:Object(s.k)(e,"studyManager.study.isLoading",!1)||Object(s.k)(e,"studyManager.study.isUpdating",!1)}}build(){return s.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps})}}).build()},1217:function(e,t,a){"use strict";var s=a(17),o=a(1),n=a(6),i=a(2),r=a(22),d=a(27),c=a(3),l=a.n(c),u=a(0),m=a.n(u),p=a(4);a(1302);class y extends u.Component{constructor(){super(),this.getClasses=this.getClasses.bind(this),this.getFields=this.getFields.bind(this)}getClasses(){return new p.a("study-form-create-analysis")}getFields({analysisTypes:e}){return[{name:"title",InputComponent:{component:i.FormInput,props:{mods:["bordered"],placeholder:"Title",type:"text"}}},{name:"typeId",InputComponent:{component:i.FormSelect,props:{mods:["bordered"],placeholder:"Type",options:e}}}]}render(){const e=this.getClasses(),t=this.getFields(this.props);return m.a.createElement(i.Modal,{modal:this.props.modal,title:"Create analysis"},m.a.createElement("div",e(),m.a.createElement(i.Form,l()({mods:"spacing-actions-sm",fields:t,submitBtn:{label:"Create",loadingLabel:"Creating...",mods:["success","rounded"]},cancelBtn:{label:"Cancel"},onSubmit:this.props.doSubmit,onCancel:this.props.modal.close},this.props))))}}var g=y,h=a(20);const b=(new class{getRawAnalysisTypesList(e){return Object(o.k)(e,"studyManager.analysisTypes.data.result")||[]}getAnalysisTypesList(e){const t=e.map(e=>({label:e.name,value:e.id}));return Object(o.o)(t)}buildSelectorForAnalysisTypesList(){return Object(h.createSelector)([this.getRawAnalysisTypesList],this.getAnalysisTypesList)}build(){return{getAnalysisTypesList:this.buildSelectorForAnalysisTypesList()}}}).build();let f=Object(s.reduxForm)({form:r.c.createAnalysis})(g);f=i.ModalUtils.connect({name:r.e.createAnalysis})(f);t.a=(new class{getComponent(){return f}mapStateToProps(e){const t=Object(o.k)(e,"studyManager");return{studyId:Object(o.k)(t,"study.data.id"),analysisTypes:b.getAnalysisTypesList(e),initialValues:{attachDefaultCodeFiles:!1}}}getMapDispatchToProps(){return{createAnalysis:n.a.studyManager.analyses.create,showAnalysis:e=>Object(d.push)(r.i.analyses(e))}}mergeProps(e,t,a){return{...a,...e,...t,doSubmit(a){const s=t.createAnalysis(null,{...a,studyId:e.studyId});return s.then(({result:e})=>t.showAnalysis(e.id)).catch(()=>{}),s}}}build(){return o.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build()},1218:function(e,t,a){"use strict";var s=a(1),o=a(2),n=a(6),i=a(22),r=a(33),d=a(20),c=a(74);var l=a(3),u=a.n(l),m=a(0),p=a.n(m),y=(a(1201),a(40),a(94)),g=a(4);a(28);function h({openCreateModal:e}){const t=new g.a("study-document-list-add");return p.a.createElement(o.Button,u()({},t(),{onClick:e}),p.a.createElement("i",t("ico"),"add_circle_outline"),p.a.createElement("span",t("label"),"Add document"))}function b({document:e,isEditable:t,removeDocument:a}){const s=new g.a("study-document-item"),n={hover:!0,removable:t};return p.a.createElement(o.ListItem,u()({},s(),{mods:n,onRemove:()=>a(e.uuid)}),p.a.createElement(y.a,e))}function f(e){const t=new g.a("study-document-list"),a=new g.a("study-document-list-download-all"),s=new g.a("tooltip"),{isEditable:n,downloadAllLink:i,openCreateModal:r,documentList:d,removeDocument:c,canDownload:l}=e;return p.a.createElement("div",t(),p.a.createElement("ul",t("content"),d.map((e,t)=>p.a.createElement(b,{document:e,isEditable:n,removeDocument:c,key:t})),0===d.length&&p.a.createElement(o.ListItem,{label:"No documents available"})),p.a.createElement("div",t("actions"),n&&p.a.createElement(h,{openCreateModal:r}),l&&p.a.createElement("div",u()({},a({extra:s().className}),{"aria-label":"Download all documents"}),p.a.createElement(o.Button,u()({},a("ico"),{link:i,target:"_self"}),"file_download"))))}a(1345),b.propTypes={isEditable:m.PropTypes.bool.isRequired,document:m.PropTypes.object.isRequired,removeDocument:m.PropTypes.func.isRequired},f.propTypes={isEditable:m.PropTypes.bool.isRequired,documentList:m.PropTypes.array.isRequired,downloadAllLink:m.PropTypes.string.isRequired,openCreateModal:m.PropTypes.func.isRequired,removeDocument:m.PropTypes.func.isRequired,canDownload:m.PropTypes.bool};var S=f;const _=(new class{getStudyId(e){return Object(s.k)(e,"studyManager.study.data.id")||[]}getRawDocumentList(e){return Object(s.k)(e,"studyManager.study.data.files")||[]}getDocumentList(e,t){return t.map(e=>({...Object(c.a)(e,e=>i.i.studyFile({studyId:e.studyId,fileId:e.uuid}))}))}buildselectorForDocumentList(){return Object(d.createSelector)([this.getStudyId,this.getRawDocumentList],this.getDocumentList)}build(){return{getDocumentList:this.buildselectorForDocumentList()}}}).build();t.a=(new class{getComponent(){return S}mapStateToProps(e){const t=Object(s.k)(e,"studyManager.study.data"),a=Object(s.k)(t,"id"),o=_.getDocumentList(e),n=0!==o.filter(e=>e.docType!==r.a.link).length;return{studyId:Object(s.k)(t,"id"),documentList:o,isEditable:Object(s.k)(t,"permissions[".concat(i.p.uploadFiles,"]"),!1),downloadAllLink:i.a.studyDocumentDownloadAll({studyId:a}),canDownload:n}}getMapDispatchToProps(){return{openCreateModal:o.ModalUtils.actions.toggle.bind(null,i.e.createDocument,!0),loadStudy:n.a.studyManager.study.find,removeDocument:n.a.studyManager.study.document.delete}}mergeProps(e,t,a){return{...a,...e,...t,removeDocument(a){s.c.confirmDelete({message:"Are you sure you want to delete this file?"}).then(()=>{t.removeDocument({studyId:e.studyId,fileUuid:a,action:"remove"}).then(()=>t.loadStudy({id:e.studyId}))})}}}build(){return s.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build()},1219:function(e,t,a){"use strict";var s=a(1),o=a(22),n=a(2),i=a(6),r=a(3),d=a.n(r),c=a(0),l=a.n(c),u=a(4),m=a(36);function p(e){const t=new u.a("study-datasource-item"),a=new u.a("tooltip"),{dataSource:s,hasDeletePermissions:o,addDataSource:i,removeDataSource:r,editDataSource:c,hasEditStudyPermissions:p}=e,g={hover:!0,actionable:o},h=[];return s.canBeRecreated&&h.push(l.a.createElement("span",d()({key:"add-ds"},t("action"),{onClick:()=>i(s.id)}),l.a.createElement("i",t("action-ico","recreate"),"cached"))),s.canBeRemoved&&h.push(l.a.createElement("span",d()({key:"remove-ds"},t("action"),{onClick:()=>r(s.id,s.name)}),l.a.createElement("i",t("action-ico","remove"),"close"))),l.a.createElement(n.ListItem,d()({mods:g,actions:h},t({modifiers:{displaced:o&&!s.canBeRemoved&&!s.canBeRecreated}})),l.a.createElement("div",d()({},t({element:"indicator",modifiers:[m.e.getColor(s.healthStatus.value)],extra:a().className}),{"aria-label":m.e.getTitle(s.healthStatus.value),"data-tootik-conf":"right"})),s.comment&&l.a.createElement(n.Link,d()({},t({element:"comment",extra:"ac-tooltip"}),{"aria-label":"Comment: ".concat(s.comment),"data-tootik-conf":"top multiline"}),l.a.createElement("div",t("comment-icon"),"chat_bubble")),s.isVirtual?l.a.createElement(y,{isEditable:s.isCurrentUserOwner&&p,classes:t,dataSource:s,editDataSource:c}):l.a.createElement(n.Link,d()({},t("name"),{to:s.link}),s.name),l.a.createElement("span",t({element:"status",modifiers:s.status.toLowerCase()}),s.status))}function y(e){const{isEditable:t,classes:a,dataSource:s,editDataSource:o}=e;return t?l.a.createElement(n.Link,d()({},a("name"),{onClick:()=>o(s.id)}),s.name,l.a.createElement("span",a("ico"),"edit")):l.a.createElement("span",a("name"),s.name)}function g(e){const t=new u.a("study-datasource-list"),{dataSourceList:a,hasAttachPermissions:s,hasDeletePermissions:o,openAddModal:i,addDataSource:r,removeDataSource:d,editDataSource:c,hasEditStudyPermissions:m}=e;return l.a.createElement("ul",t(),a.map((e,t)=>l.a.createElement(p,{dataSource:e,hasDeletePermissions:o,addDataSource:r,removeDataSource:d,key:t,editDataSource:c,hasEditStudyPermissions:m})),0===a.length&&l.a.createElement(n.ListItem,{label:"No attached data sources"}),s&&l.a.createElement(n.ListItem,{label:"Add Data Source",mods:"add",onClick:i}))}a(1350),g.propTypes={dataSource:c.PropTypes.object.isRequired,hasDeletePermissions:c.PropTypes.bool.isRequired,removeDataSource:c.PropTypes.func.isRequired},g.propTypes={dataSourceList:c.PropTypes.array.isRequired,hasAttachPermissions:c.PropTypes.bool.isRequired,hasDeletePermissions:c.PropTypes.bool.isRequired,openAddModal:c.PropTypes.func.isRequired,removeDataSource:c.PropTypes.func.isRequired};var h=g,b=a(20);const f=(new class{getStudyId(e){return Object(s.k)(e,"studyManager.study.data.id")||[]}getRawDataSourceList(e){return Object(s.k)(e,"studyManager.study.data.dataSources")||[]}hasAttachPermissions(e){return Object(s.k)(e,"studyManager.study.data.permissions[".concat(o.p.inviteDatanode,"]"),!1)}hasDeletePermissions(e){return Object(s.k)(e,"studyManager.study.data.permissions[".concat(o.p.unlinkDatasource,"]"),!1)}hasEditStudyPermissions(e){return Object(s.k)(e,"studyManager.study.data.permissions[".concat(o.p.editStudy,"]"),!1)}isDeleted(e){return e.status.toLowerCase()===o.b.DELETED.toLowerCase()}getStatus(e){let t=e.status.toLowerCase();return"deleted"===t&&(t="suspended"),t}getDataSourceList(e,t,a,n){return t.map(e=>({id:e.id,name:"".concat(Object(s.k)(e,"dataNode.name",""),": ").concat(e.name),link:o.i.dataSources(e.id),status:this.getStatus(e),healthStatus:{value:e.healthStatus,title:e.healthStatusTitle},canBeRemoved:!this.isDeleted(e)&&n,canBeRecreated:e.canBeRecreated&&this.isDeleted(e)&&a,comment:e.comment,isVirtual:e.dataNode.virtual,isCurrentUserOwner:e.dataNode.currentUserDataOwner}))}buildselectorForDataSourceList(){return Object(b.createSelector)([this.getStudyId,this.getRawDataSourceList,this.hasAttachPermissions,this.hasDeletePermissions,this.hasEditStudyPermissions],this.getDataSourceList.bind(this))}build(){return{getDataSourceList:this.buildselectorForDataSourceList(),hasAttachPermissions:this.hasAttachPermissions,hasDeletePermissions:this.hasDeletePermissions,hasEditStudyPermissions:this.hasEditStudyPermissions}}}).build();t.a=(new class{getComponent(){return h}mapStateToProps(e){const t=Object(s.k)(e,"studyManager.study.data");return{userId:Object(s.k)(e,"auth.principal.queryResult.id"),studyId:Object(s.k)(t,"id"),studyKind:Object(s.k)(t,"kind"),dataSourceList:f.getDataSourceList(e),hasAttachPermissions:f.hasAttachPermissions(e),hasDeletePermissions:f.hasDeletePermissions(e),hasEditStudyPermissions:f.hasEditStudyPermissions(e)}}getMapDispatchToProps(){return{openAddModal:n.ModalUtils.actions.toggle.bind(null,o.e.addDataSource,!0),loadStudy:i.a.studyManager.study.find,addDataSource:i.a.studyManager.study.dataSource.create,removeDataSource:i.a.studyManager.study.dataSource.delete}}mergeProps(e,t,a){return{...a,...e,...t,addDataSource(a){t.addDataSource({studyId:e.studyId,dataSourceId:a}).then(()=>t.loadStudy({id:e.studyId}))},removeDataSource(a,o){s.c.confirmDelete({message:"Are you sure you want to delete this data source '".concat(o,"' from study?")}).then(()=>{t.removeDataSource({studyId:e.studyId,dataSourceId:a}).then(()=>{const a=e.studyKind;return"WORKSPACE"===a?t.loadStudy({id:e.userId,kind:a}):t.loadStudy({id:e.studyId})})})},editDataSource(a){t.openAddModal({studyId:e.studyId,dataSourceId:a})}}}build(){return s.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build()},1220:function(e,t,a){"use strict";var s=a(1),o=a(6),n=a(2),i=a(22),r=a(20);var d=a(3),c=a.n(d),l=a(0),u=a.n(l),m=a(1201),p=a.n(m),y=a(28),g=a(40),h=a.n(g),b=a(4);a(1360);class f extends l.Component{render(){const{id:e,isEditable:t,isRemovable:a,title:s,link:o,removeAnalysis:i,createdAt:r,author:d}=this.props.item,l={hover:!0,draggable:t,removable:t&&a},m=new b.a("study-analyses-list-item");return u.a.createElement(n.ListItem,c()({},this.props,{mods:l,onRemove:()=>i(e,s)}),u.a.createElement("div",m(),u.a.createElement("span",{title:s},o&&u.a.createElement(n.Link,{to:o},s),r&&u.a.createElement("span",m("datetime"),h()(r).tz(h.a.tz.guess()).format(y.d))),d&&d.id&&u.a.createElement(n.Link,c()({},m("author"),{to:d.link,target:d.link}),d.firstname," ",d.middlename?"".concat(d.middlename.substr(0,1),"."):""," ",d.lastname)))}}function S(e){const t=new b.a("study-analyses-list"),{isEditable:a,moveAnalysis:s,openCreateAnalysisModal:o,removeAnalysis:i}=e;let{analysisList:r}=e;return r=r.map(e=>({...e,isEditable:a,removeAnalysis:i})),u.a.createElement(n.Panel,c()({},t(),{id:"study-analyses",title:"Analyses"}),u.a.createElement(p.a,{itemKey:"id",template:f,list:r,container:()=>document.body,padding:0,onMoveEnd:s,unsetZIndex:!0}),0===r.length&&u.a.createElement(n.ListItem,{label:"No analyses"}),a&&u.a.createElement(n.ListItem,{mods:"add",label:"Add analysis",onClick:o}))}f.propTypes={item:l.PropTypes.shape({id:l.PropTypes.number.isRequired,isEditable:l.PropTypes.bool.isRequired,isRemovable:l.PropTypes.bool.isRequired,title:l.PropTypes.string.isRequired,link:l.PropTypes.string.isRequired,removeAnalysis:l.PropTypes.func.isRequired})},S.propTypes={analysisList:l.PropTypes.array.isRequired,isEditable:l.PropTypes.bool.isRequired,moveAnalysis:l.PropTypes.func.isRequired,openCreateAnalysisModal:l.PropTypes.func.isRequired,removeAnalysis:l.PropTypes.func.isRequired};var _=S;const k=(new class{getRawAnalysisList(e){return Object(s.k)(e,"studyManager.study.data.analyses")||[]}getAnalysisList(e){return e.map(e=>({id:e.id,title:e.title,link:i.i.analyses(e.id),isRemovable:Object(s.k)(e,"permissions.DELETE_ANALYSIS",!1),createdAt:e.created,author:{...e.author,link:e.author&&e.author.id?i.i.user(e.author.id):null}}))}buildSelectorForAnalysisList(){return Object(r.createSelector)([this.getRawAnalysisList],this.getAnalysisList)}build(){return{getAnalysisList:this.buildSelectorForAnalysisList()}}}).build();t.a=(new class{getComponent(){return _}mapStateToProps(e){const t=Object(s.k)(e,"studyManager.study.data"),a=Object(s.k)(e,"studyManager.study.data.permissions",[]);return{studyId:Object(s.k)(t,"id"),analysisList:k.getAnalysisList(e),isEditable:Object(s.k)(t,"permissions[".concat(i.p.createAnalysis,"]"),!1),grantedPermissions:a}}getMapDispatchToProps(){return{openCreateAnalysisModal:n.ModalUtils.actions.toggle.bind(null,i.e.createAnalysis,!0),loadStudy:o.a.studyManager.study.find,moveAnalysis:o.a.studyManager.study.analysisMove.create,removeAnalysis:o.a.studyManager.analyses.delete,getTransitions:o.a.studyManager.availableTransitions.query}}mergeProps(e,t,a){return{...a,...e,...t,moveAnalysis(a,s,o,n){t.moveAnalysis(null,{analysisId:s.id,newIndex:n}).then(()=>t.loadStudy({id:e.studyId}))},removeAnalysis(a,o){s.c.confirmDelete({message:"Are you sure you want to delete analysis '".concat(o,"'?")}).then(()=>{t.removeAnalysis(a).then(()=>{t.loadStudy({id:e.studyId}),t.getTransitions({studyId:e.studyId})})})}}}build(){return s.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build()},1221:function(e,t,a){"use strict";var s=a(1),o=a(6),n=a(22),i=a(3),r=a.n(i),d=a(0),c=a.n(d),l=a(2),u=a(4),m=a(1223);a(1362);class p extends d.Component{constructor(e){super(e),this.classes=Object(u.a)("study-settings"),this.headerClasses=Object(u.a)("study-settings-header")}getHeader(){return[c.a.createElement("span",r()({key:"1"},this.headerClasses("group")),"Permissions"),c.a.createElement("span",r()({key:"2"},this.headerClasses({element:"group",modifiers:{wide:!this.props.isEditable}})),"Type of Study"),c.a.createElement("span",r()({key:"3"},this.headerClasses("group")),"Status")]}getSettings(){return[c.a.createElement("li",r()({key:"1"},this.classes({element:"group",modifiers:{uneditable:!this.props.isEditable}})),this.props.isEditable?c.a.createElement(l.Tabs,{placeholder:"Privacy",value:this.props.privacySelected.value,options:this.props.privacyOptions,onChange:this.props.setPrivacy}):c.a.createElement("span",this.classes("label"),this.props.privacySelected.label)),c.a.createElement("li",r()({key:"2"},this.classes({element:"group",modifiers:{wide:!this.props.isEditable,uneditable:!this.props.isEditable}})),this.props.isEditable?c.a.createElement(l.Select,{mods:["bordered"],placeholder:"Type",value:this.props.typeSelected.value,options:this.props.typeOptions,onChange:this.props.setType}):c.a.createElement("span",this.classes("label"),this.props.typeSelected.label)),c.a.createElement("li",r()({key:"3"},this.classes({element:"group",modifiers:{uneditable:!this.props.isEditable}})),this.props.isEditable?c.a.createElement(l.Select,r()({},this.classes("status"),{mods:["bordered","no-label-padding"],placeholder:"Status",value:this.props.statusSelected.value,isMulti:!1,options:this.props.statusOptions.map(e=>({label:c.a.createElement(m.a,e),value:e.value})),onChange:this.props.setStatus})):c.a.createElement(m.a,this.props.statusSelected))]}render(){return c.a.createElement(l.Panel,{title:c.a.createElement("div",this.headerClasses(),this.getHeader())},c.a.createElement("ul",this.classes(),this.getSettings()))}}var y=p,g=a(20),h=a(209),b=a.n(h);const f=(new class{getTypeList(e){return Object(s.k)(e,"studyManager.typeList.data.result")||[]}getTypeOptions(e){const t=e.map(e=>({label:e.name,value:e.id}));return Object(s.o)(t)}buildSelectorForTypeOptions(){return Object(g.createSelector)([this.getTypeList],this.getTypeOptions)}getStatusList(e){return Object(s.k)(e,"studyManager.statusList.data.result")||[]}getAvailableTransitionList(e){return Object(s.k)(e,"studyManager.availableTransitions.queryResult")||[]}getStudyStatus(e){return Object(s.k)(e,"studyManager.study.data.status.name")}getStatusOptions(e,t,a){const o=t.map(e=>({name:Object(s.k)(e,"to.name",[]),isInfo:Object(s.k)(e,"info")})),i=b()(t,(e,t)=>(e[Object(s.k)(t,"to.name","")]=Object(s.k)(t,"description",""),e),{}),r=o.filter(e=>!e.isInfo).map(e=>e.name);return e.map(e=>{const t=!r.includes(e.name),o=a===e.name,d=o?"Current state":Object(s.k)(i,"".concat(e.name),"Status cannot be changed to");return{label:e.name,value:e.id,color:e.name?n.k[e.name.toLowerCase()]:null,tooltipText:d,tooltipConf:"left",disabled:t,selected:o}})}buildSelectorForStatusOptions(){return Object(g.createSelector)([this.getStatusList,this.getAvailableTransitionList,this.getStudyStatus],this.getStatusOptions)}build(){return{getTypeOptions:this.buildSelectorForTypeOptions(),getStatusOptions:this.buildSelectorForStatusOptions()}}}).build(),S=[{label:"Private",value:!0},{label:"Public",value:!1}];class _{getComponent(){return y}static getSelectedOption(e,t){return e.filter(e=>e.value===t)[0]||{value:""}}mapStateToProps(e){const t=Object(s.k)(e,"studyManager.study.data"),a=f.getTypeOptions(e),o=f.getStatusOptions(e);return{privacyOptions:S,privacySelected:_.getSelectedOption(S,Object(s.k)(t,"privacy")),studyId:Object(s.k)(t,"id"),isEditable:Object(s.k)(t,"permissions[".concat(n.p.editStudy,"]"),!1),typeOptions:a,typeSelected:_.getSelectedOption(a,Object(s.k)(t,"type.id")),statusOptions:o,statusSelected:_.getSelectedOption(o,Object(s.k)(t,"status.id"))}}getMapDispatchToProps(){return{load:o.a.studyManager.study.find,loadTransitions:o.a.studyManager.availableTransitions.query,updateStudy:o.a.studyManager.study.update}}mergeProps(e,t,a){return{...a,...e,...t,setPrivacy:a=>t.updateStudy({id:e.studyId},{privacy:a}).then(()=>t.load({id:e.studyId})),setType:a=>{t.updateStudy({id:e.studyId},{type:{id:a}}).then(()=>t.load({id:e.studyId}))},setStatus:a=>{t.updateStudy({id:e.studyId},{status:{id:a}}).then(()=>{t.load({id:e.studyId}),t.loadTransitions({studyId:e.studyId})})}}}build(){return s.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}t.a=(new _).build()},1222:function(e,t,a){"use strict";var s=a(1),o=a(2),n=a(22),i=a(3),r=a.n(i),d=a(0),c=a.n(d),l=a(4);a(1298);var u=function(e){const t=new l.a("study-confirm-datasource"),a=e.datasources.length>1?"s":"";return c.a.createElement(o.Modal,{modal:e.modal,title:"Add datasource"},c.a.createElement("div",t(),"Your invite".concat(a," has been sent to"),c.a.createElement("br",null),e.datasources.map((e,a)=>c.a.createElement(o.Link,r()({},t("ds-name"),{key:a,to:n.i.dataSources(e.value)}),e.label))," for",c.a.createElement("br",null),c.a.createElement("span",t("study-name"),e.studyName)))};const m=o.ModalUtils.connect({name:n.e.confirmDatasource})(u);t.a=(new class{getComponent(){return m}mapStateToProps(e){const t=Object(s.k)(e,"modal.confirmDatasource");return{datasources:Object(s.k)(t,"data.datasources",[])||[],studyName:Object(s.k)(t,"data.studyName","Study")}}build(){return s.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps})}}).build()},1223:function(e,t,a){"use strict";var s=a(3),o=a.n(s),n=a(0),i=a.n(n),r=a(4);function d(e){const{color:t,label:a,disabled:s,selected:n,tooltipText:d,tooltipConf:c,isOption:l}=e,u=new r.a("study-status-option"),m=s&&l;return i.a.createElement("span",o()({},u({modifiers:{disabled:s,selected:n,"is-option":l},extra:m?"ac-tooltip":""}),{"aria-label":d,"data-tootik-conf":c,onClick:m?e=>{e.stopPropagation()}:e=>e}),i.a.createElement("i",u("status-ico",t)),i.a.createElement("span",u("label"),a))}a(1266),d.propTypes={downloadLink:n.PropTypes.string,language:n.PropTypes.string,title:n.PropTypes.string};var c=d;t.a=c},1266:function(e,t,a){var s=a(12),o=a(1267);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1},i=(s(o,n),o.locals?o.locals:{});e.exports=i},1267:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-status-option{align-items:center;display:flex;height:100%}.ac-study-status-option--is-option{padding-left:8px;font-weight:500}.ac-study-status-option__status-ico{width:14px;height:14px;border-radius:50%;margin-right:8px}.ac-study-status-option__status-ico--green{background:#85AF36}.ac-study-status-option__status-ico--blue{background:#50A5BA}.ac-study-status-option__status-ico--red{background:#EC3D31}.ac-study-status-option__status-ico--orange{background:#FFA200}.ac-study-status-option__status-ico--purple{background:#82197E}.ac-study-status-option__status-ico--grey{background:#a9a9a9}.ac-study-status-option--disabled{user-select:none;color:#909090;overflow:visible}.ac-study-status-option--disabled:hover{cursor:default;background:white}.ac-study-status-option--selected{color:black}\n",""]),e.exports=t},1298:function(e,t,a){var s=a(12),o=a(1299);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1},i=(s(o,n),o.locals?o.locals:{});e.exports=i},1299:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-confirm-datasource{line-height:1.4;text-align:center;width:260px}.ac-study-confirm-datasource__study-name{font-weight:bold}.ac-study-confirm-datasource__ds-name{display:block}\n",""]),e.exports=t},1300:function(e,t,a){var s=a(12),o=a(1301);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1},i=(s(o,n),o.locals?o.locals:{});e.exports=i},1301:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-form-create-document .ac-tabs{border-radius:0}.ac-study-form-create-document .ac-tabs__item{text-align:center}.ac-study-form-create-document .ac-tabs__item:not(:last-child){margin-right:3px}.ac-study-form-create-document .ac-tabbed-pane__content{margin-top:0}.ac-study-form-create-document .ac-modal__content-header{display:none}.ac-study-form-create-document .ac-modal__content{border-radius:3px}.ac-study-form-create-document .ac-modal__content-body{padding:0}.ac-study-form-create-document__content{width:500px}\n",""]),e.exports=t},1302:function(e,t,a){var s=a(12),o=a(1303);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1},i=(s(o,n),o.locals?o.locals:{});e.exports=i},1303:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-form-create-analysis{width:26rem}.ac-study-form-create-analysis .ac-form-select,.ac-study-form-create-analysis .ac-autocomplete,.ac-study-form-create-analysis .ac-autocomplete__select{position:initial}.ac-study-form-create-analysis .ac-form-select .ac-select__options,.ac-study-form-create-analysis .ac-form-select .Select-menu-outer,.ac-study-form-create-analysis .ac-autocomplete .ac-select__options,.ac-study-form-create-analysis .ac-autocomplete .Select-menu-outer,.ac-study-form-create-analysis .ac-autocomplete__select .ac-select__options,.ac-study-form-create-analysis .ac-autocomplete__select .Select-menu-outer{width:26rem;max-width:26rem}.ac-study-form-create-analysis .ac-autocomplete__search{right:2rem;top:-0.25rem}\n",""]),e.exports=t},1345:function(e,t,a){var s=a(12),o=a(1346);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1},i=(s(o,n),o.locals?o.locals:{});e.exports=i},1346:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-document-list{margin-bottom:10px}.ac-study-document-list__actions{display:flex;justify-content:space-between}.ac-study-document-list-add{align-content:center;display:flex;min-height:44px;padding:0 20px}.ac-study-document-list-add__ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#85AF36;cursor:pointer;font-size:2.2rem;justify-content:center;text-align:left;width:35px}.ac-study-document-list-add__ico--medium{font-size:2.2rem}.ac-study-document-list-add__ico--bold{font-weight:600}.ac-study-document-list-add__label{color:#909090;font-family:\"Montserrat\";font-size:1.2rem;text-transform:uppercase;cursor:pointer;padding-left:0}.ac-study-document-list-download-all__ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#909090;font-size:2.2rem;padding-top:10px}.ac-study-document-list-download-all__ico--medium{font-size:2.2rem}.ac-study-document-list-download-all__ico--bold{font-weight:600}.ac-study-document-item{align-items:center;display:flex;min-height:53px}\n",""]),e.exports=t},1350:function(e,t,a){var s=a(12),o=a(1351);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1},i=(s(o,n),o.locals?o.locals:{});e.exports=i},1351:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-datasource-list{margin-bottom:10px}.ac-study-datasource-item{display:flex;align-items:center;display:flex}.ac-study-datasource-item__indicator{background-size:contain;border-radius:50%;height:1.25rem;margin-right:2rem;min-width:1.25rem;width:1.25rem}.ac-study-datasource-item__indicator--NOT_COLLECTED,.ac-study-datasource-item__indicator--NOT_CONNECTED{background-image:url(\"/img/icons/icon-Health---Amber.png\");filter:grayscale(100%)}.ac-study-datasource-item__indicator--RED{background-image:url(\"/img/icons/icon-Health---Amber.png\")}.ac-study-datasource-item__indicator--AMBER{background-image:url(\"/img/icons/icon-Health---Yellow.png\")}.ac-study-datasource-item__indicator--GREEN{background-image:url(\"/img/icons/icon-Health---Green.png\")}.ac-study-datasource-item__name{margin-right:auto;display:flex;align-items:center}.ac-study-datasource-item__status{flex-grow:1;text-align:right;font-weight:bold;text-transform:uppercase}.ac-study-datasource-item__status--approved{color:#85AF36}.ac-study-datasource-item__status--pending{color:#FFA200}.ac-study-datasource-item__status--suspended{color:#909090}.ac-study-datasource-item__ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';margin-left:1rem;font-size:1.5rem}.ac-study-datasource-item__ico--medium{font-size:2.2rem}.ac-study-datasource-item__ico--bold{font-weight:600}.ac-study-datasource-item__action{align-items:center;cursor:pointer;display:flex;justify-content:center;width:50px}.ac-study-datasource-item__action-ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#a9a9a9;cursor:pointer;font-weight:600}.ac-study-datasource-item__action-ico--medium{font-size:2.2rem}.ac-study-datasource-item__action-ico--bold{font-weight:600}.ac-study-datasource-item__action-ico:hover{color:#838383}.ac-study-datasource-item--displaced{padding-right:50px}.ac-study-datasource-item__comment{margin:0 0.5rem;color:#a9a9a9;position:relative;top:2px}.ac-study-datasource-item__comment-icon{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';transform:rotateY(180deg)}.ac-study-datasource-item__comment-icon--medium{font-size:2.2rem}.ac-study-datasource-item__comment-icon--bold{font-weight:600}\n",""]),e.exports=t},1360:function(e,t,a){var s=a(12),o=a(1361);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1},i=(s(o,n),o.locals?o.locals:{});e.exports=i},1361:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-analyses-list{margin-bottom:10px}.ac-study-analyses-list .ac-list-item__content{height:initial}.ac-study-analyses-list-item{align-items:center;display:flex;flex-grow:1;margin:1rem 0}.ac-study-analyses-list-item__author{min-width:120px;margin-left:auto;text-align:right}.ac-study-analyses-list-item__datetime{color:#3E3E3E;display:block;font-size:1.2rem;font-weight:400;margin-top:7px}\n",""]),e.exports=t},1362:function(e,t,a){var s=a(12),o=a(1363);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1},i=(s(o,n),o.locals?o.locals:{});e.exports=i},1363:function(e,t,a){(t=a(13)(!1)).push([e.i,".ac-study-settings{background:#fff;border-radius:2px;display:flex;margin-bottom:10px;padding:7px 20px;width:100%}.ac-study-settings__group{flex:1;align-items:center;min-height:30px;min-width:0}.ac-study-settings__group:not(:last-child){margin-right:10px}.ac-study-settings__group--wide{flex:2}.ac-study-settings__group--uneditable{display:flex}.ac-study-settings__setting{align-items:center;display:flex}.ac-study-settings__label{font-weight:500;text-transform:uppercase;font-size:1.25rem}.ac-study-settings__status-ico{width:14px;height:14px;border-radius:50%;margin-right:10px}.ac-study-settings__status-ico--green{background:#85AF36}.ac-study-settings__status-ico--blue{background:#50A5BA}.ac-study-settings__status-ico--red{background:#EC3D31}.ac-study-settings__status-ico--orange{background:#FFA200}.ac-study-settings__status-ico--purple{background:#82197E}.ac-study-settings__status-ico--grey{background:#a9a9a9}.ac-study-settings-header{display:flex}.ac-study-settings-header__group{flex:1;display:flex;align-items:center;min-height:30px;min-width:0}.ac-study-settings-header__group:not(:last-child){margin-right:10px}.ac-study-settings-header__group--wide{flex:2}\n",""]),e.exports=t}}]);