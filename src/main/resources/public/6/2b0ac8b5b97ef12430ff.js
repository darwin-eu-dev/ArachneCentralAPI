(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1189:function(e,t,i){"use strict";var a=i(3),n=i.n(a),s=i(0),r=i.n(s),o=i(4),l=i(2),c=i(157),d=i.n(c);i(1192);var p=function({className:e,isFavourite:t,toggleFavorite:i}={}){const a=new o.a("title-study-ico-fav"),s=new o.a("tooltip"),l={modifiers:{marked:t},extra:d()(s().className,e)};return r.a.createElement("div",n()({},a(l),{"aria-label":t?"Remove from favorites":"Mark as favorite","data-tootik-conf":"right",onClick:e=>{i&&(e.stopPropagation(),i())}}),t?"star":"star_border")};var u=function({className:e="",isPrivate:t=!1}={}){const i=Object(o.a)("title-study-ico-lock"),a=Object(o.a)("tooltip"),s={modifiers:{locked:t},extra:d()(a().className,e)};return r.a.createElement("div",n()({},i(s),{"aria-label":t?"Private":"Public","data-tootik-conf":"right"}),t?"lock":"lock_open")};var g=function(e){const t=[p];return e&&t.push(u),t};i(1194);var h=function(e){const t=new o.a("title-study"),{className:i,mods:a,title:s,link:c=null,titleLabel:d,titleLabelDescr:p,showPrivacy:u=!0,showHover:h=!1}=e;return r.a.createElement("div",t({modifiers:a,extra:i}),r.a.createElement("div",t("icon-list"),g(u).map((i,a)=>r.a.createElement(i,{...e,key:a,...t("icon")}))),c?r.a.createElement(l.Link,n()({},t("title"),{to:c}),s):r.a.createElement("span",n()({title:h?s:""},t("title")),s),d&&r.a.createElement("span",n()({},t("label"),{title:d,alt:p}),d))};t.a=h},1192:function(e,t,i){var a=i(12),n=i(1193);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1193:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-title-study-ico-fav{cursor:pointer}.ac-title-study-ico-fav--marked{color:#FFA200}\n",""]),e.exports=t},1194:function(e,t,i){var a=i(12),n=i(1195);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1195:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-title-study{align-items:center;display:flex}.ac-title-study--nooverflow{overflow:hidden}.ac-title-study--nowrap .ac-title-study__title{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.ac-title-study--large .ac-title-study__icon{font-size:2.5rem}.ac-title-study--large .ac-title-study__icon--lock{font-size:2.1rem}.ac-title-study--large .ac-title-study__title{font-family:\"Montserrat\";text-transform:uppercase;font-size:1.8rem}.ac-title-study__icon-list{align-items:center;display:flex;margin-right:1.5rem}.ac-title-study__icon{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga'}.ac-title-study__icon--medium{font-size:2.2rem}.ac-title-study__icon--bold{font-weight:600}.ac-title-study__icon:not(:first-child){margin-left:.85rem}.ac-title-study__label{background-color:#3E3E3E;border-radius:3px;color:#fff;font-size:0.75rem;left:calc(100% + 5px);line-height:1.9;padding:0 5px;flex-shrink:0;margin-left:5px;align-self:baseline;margin-top:-3px}\n",""]),e.exports=t},1196:function(e,t,i){var a=i(12),n=i(1197);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1197:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-card{box-shadow:0px 0px 10px 0px rgba(0,0,0,0.1);padding:2rem;margin:0.5rem;width:calc( 50% - 2rem);display:flex;flex-direction:column}.ac-card__heading{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.75rem}.ac-card__title{min-width:0}.ac-card__status{margin-left:4rem}.ac-card__date,.ac-card__body{margin-bottom:1.5rem}.ac-card__date{font-size:1.2rem}.ac-card__body{flex-grow:1}.ac-card__footer{display:flex;justify-content:space-between;align-items:flex-start}.ac-card__lead-avatar{width:2.5rem;height:2.5rem;flex-shrink:0}.ac-card__comma{flex:0}.ac-card__users{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;display:flex;align-items:center;width:50%;position:relative}.ac-card__users--expanded{align-items:flex-start}.ac-card__users-wrapper{display:flex;align-items:center;overflow:hidden}.ac-card__users-wrapper--expanded{flex-wrap:wrap}.ac-card__users .ac-user-label{flex-shrink:0;margin-left:1rem}.ac-card__ellipsis{position:absolute;right:0px;line-height:2;background:#fff}.ac-card__ellipsis--hidden{display:none}\n",""]),e.exports=t},1198:function(e,t,i){var a=i(12),n=i(1199);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1199:function(e,t,i){(t=i(13)(!1)).push([e.i,'.ac-study-date-panel{display:flex;align-items:center;background:#fff;border-radius:2px;padding:12px 20px;box-shadow:0px 0px 10px 0px rgba(0,0,0,0.1)}.ac-study-date-panel__title{font-family:"Montserrat";text-transform:uppercase;margin-right:auto}.ac-study-date-panel__picker{cursor:pointer}.ac-study-date-input{display:flex;align-items:center}.ac-study-date-input__ico{color:#a9a9a9;margin-right:7px}\n',""]),e.exports=t},1200:function(e,t,i){var a,n,s;
/*!
 * Clamp.js 0.7.0
 *
 * Copyright 2011-2013, Joseph Schmitt http://joe.sh
 * Released under the WTFPL license
 * http://sam.zoy.org/wtfpl/
 */n=[],void 0===(s="function"==typeof(a=function(){return function(e,t){t=t||{};var i,a=window,n={clamp:t.clamp||2,useNativeClamp:void 0===t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},s=e.style,r=e.innerHTML,o=void 0!==e.style.webkitLineClamp,l=n.clamp,c=l.indexOf&&(l.indexOf("px")>-1||l.indexOf("em")>-1);function d(e,t){return a.getComputedStyle||(a.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,(function(){return arguments[2].toUpperCase()}))),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),a.getComputedStyle(e,null).getPropertyValue(t)}function p(t){var i=t||e.clientHeight,a=u(e);return Math.max(Math.floor(i/a),0)}function u(e){var t=d(e,"line-height");return"normal"==t&&(t=1.2*parseInt(d(e,"font-size"))),parseInt(t)}n.truncationHTML&&((i=document.createElement("span")).innerHTML=n.truncationHTML);var g,h,m,b,f=n.splitOnChars.slice(0),y=f[0];function v(t){return t.lastChild.children&&t.lastChild.children.length>0?v(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!==t.lastChild.nodeValue&&t.lastChild.nodeValue!=n.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),v(e))}function _(e,t){e.nodeValue=t+n.truncationChar}if("auto"==l?l=p():c&&(l=p(parseInt(l))),o&&n.useNativeClamp)s.overflow="hidden",s.textOverflow="ellipsis",s.webkitBoxOrient="vertical",s.display="-webkit-box",s.webkitLineClamp=l,c&&(s.height=n.clamp+"px");else{var w=(b=l,u(e)*b);w<=e.clientHeight&&(m=function t(a,s){if(s){var r=a.nodeValue.replace(n.truncationChar,"");if(g||(y=f.length>0?f.shift():"",g=r.split(y)),g.length>1?(h=g.pop(),_(a,g.join(y))):g=null,i&&(a.nodeValue=a.nodeValue.replace(n.truncationChar,""),e.innerHTML=a.nodeValue+" "+i.innerHTML+n.truncationChar),g){if(e.clientHeight<=s){if(!(f.length>=0&&""!==y))return e.innerHTML;_(a,g.join(y)+y+h),g=null}}else""===y&&(_(a,""),a=v(e),f=n.splitOnChars.slice(0),y=f[0],g=null,h=null);if(!n.animate)return t(a,s);setTimeout((function(){t(a,s)}),!0===n.animate?10:n.animate)}}(v(e),w))}return{original:r,clamped:m}}})?a.apply(t,n):a)||(e.exports=s)},1207:function(e,t,i){"use strict";var a=i(0),n=i.n(a),s=i(3),r=i.n(s),o=(i(322),i(207)),l=i(4),c=i(2);function d(e){const t=new l.a("card"),{title:i,status:a,titleLabel:s,labelDescr:d,children:p,favourite:u,setFavourite:g,userList:h,usersExpanded:m,date:b,toggleUsers:f,footerExtra:y}=e;return n.a.createElement("div",t(),n.a.createElement("div",t("heading"),n.a.createElement("div",t("title"),i),n.a.createElement("div",t("status"),a)),n.a.createElement("div",t("date"),b),n.a.createElement("div",t("body"),p),n.a.createElement("div",t("footer"),n.a.createElement("div",t({element:"users",modifiers:{expanded:m}}),n.a.createElement("div",t("lead-avatar"),n.a.createElement(c.Avatar,null)),n.a.createElement("div",t({element:"users-wrapper",modifiers:{expanded:m}}),h.map((e,i)=>[n.a.createElement(o.a,{user:e,showAvatar:!1}),i<h.length-1?n.a.createElement("span",t("comma"),", "):null]),n.a.createElement(c.Link,r()({},t({element:"ellipsis",modifiers:{hidden:1===h.length||m}}),{onClick:f}),"..."))),y))}i(1196),d.propTypes={};var p=d;class u extends a.Component{static get propTypes(){return{}}constructor(){super(),this.state={usersExpanded:!1},this.toggleUsers=this.toggleUsers.bind(this)}toggleUsers(){this.setState({usersExpanded:!this.state.usersExpanded})}render(){return p({...this.props,...this.state,toggleUsers:this.toggleUsers})}}var g=u;t.a=g},1208:function(e,t,i){"use strict";var a=i(3),n=i.n(a),s=i(0),r=i.n(s),o=i(4),l=i(2),c=i(49),d=i.n(c);i(1198);class p extends s.Component{render(){const e=new o.a("study-date-input"),t=new o.a("material-icons"),{className:i,displayValue:a,onClick:s}=this.props;return r.a.createElement("span",n()({},e({extra:i}),{onClick:s}),r.a.createElement("span",e("ico"),r.a.createElement("i",t(),"date_range")),r.a.createElement("span",e("value"),a))}}function u({title:e,selected:t,dateFormat:i,minDate:a,maxDate:s,isEditable:c,onChange:u,className:g}){const h=new o.a("study-date-panel"),m=t?d()(t).format(i):"Empty";return r.a.createElement("div",h({extra:g}),r.a.createElement("span",h("title"),e),c?r.a.createElement(l.Datepicker,n()({},h("picker"),{selected:t||d()(),customInput:r.a.createElement(p,{displayValue:m}),minDate:a,maxDate:s,onChange:u})):r.a.createElement(p,{displayValue:m}))}p.propTypes={className:s.PropTypes.any,displayValue:s.PropTypes.string.isRequired,onClick:s.PropTypes.func},u.propTypes={dateFormat:s.PropTypes.string.isRequired,isEditable:s.PropTypes.bool.isRequired,maxDate:s.PropTypes.any,minDate:s.PropTypes.any,onChange:s.PropTypes.func,selected:s.PropTypes.any,title:s.PropTypes.string.isRequired,className:s.PropTypes.string};var g=u;t.a=g},1420:function(e,t,i){var a=i(12),n=i(1421);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1421:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insights-list-actions{display:flex}.ac-insights-list-actions__action:not(:last-child){margin-right:5px}.ac-insights-list-actions__action:last-child{margin-left:2.5rem}.ac-insights-list-actions__btn{padding:0 5px}.ac-insights-list-actions__btn-ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#3E3E3E;font-size:3rem;vertical-align:middle}.ac-insights-list-actions__btn-ico--medium{font-size:2.2rem}.ac-insights-list-actions__btn-ico--bold{font-weight:600}\n",""]),e.exports=t},1422:function(e,t,i){var a=i(12),n=i(1423);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1423:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insight-list-table{table-layout:fixed}.ac-insight-list-table__name-th{width:27.5%}.ac-insight-list-table__objective-th{width:22.5%}.ac-insight-list-table__lead-th{width:17%}.ac-insight-list-table__proposal-th{width:11%}.ac-insight-list-table__launch-th{width:11%}.ac-insight-list-table__closure-th{width:11%}.ac-insight-list-table-insights-list-cell-title{display:flex}.ac-insight-list-participants-cell__item{display:block}.ac-insight-list-participants-cell__item:not(:first-child){margin-top:.75rem}.ac-cell-objective.ac-tooltip:after{width:200%}\n",""]),e.exports=t},1424:function(e,t,i){var a=i(12),n=i(1425);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1425:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insight-list-card__dates{display:flex;align-items:center}.ac-insight-list-card__ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';font-size:2.5rem;margin:0 0.5rem;color:#909090}.ac-insight-list-card__ico--medium{font-size:2.2rem}.ac-insight-list-card__ico--bold{font-weight:600}.ac-insight-list-card__ico--reversed{transform:rotateZ(180deg)}\n",""]),e.exports=t},1426:function(e,t,i){var a=i(12),n=i(1427);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1427:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insight-list-cards{display:flex;flex-wrap:wrap;padding:1.5rem;padding-right:0;align-content:flex-start}\n",""]),e.exports=t},1428:function(e,t,i){var a=i(12),n=i(1429);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1429:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insights-list-wrapper{display:flex;flex-direction:column;flex-grow:1}.ac-insights-list-wrapper__pagination-wrapper{display:flex;align-items:center;margin-top:auto}.ac-insights-list-wrapper__pagination{margin:auto}\n",""]),e.exports=t},1430:function(e,t,i){var a=i(12),n=i(1431);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1431:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insight-view-toolbar-actions{align-items:center;display:flex}.ac-insight-view-toolbar-actions__action:not(:last-child){margin-right:1.5rem}.ac-insight-view-toolbar-actions__label{font-family:\"Montserrat\";text-transform:uppercase;margin-left:1.5rem}.ac-insight-view-toolbar-actions__btn{padding:0 5px}.ac-insight-view-toolbar-actions__btn-ico{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:'liga';color:#3E3E3E;font-size:3rem;vertical-align:middle}.ac-insight-view-toolbar-actions__btn-ico--medium{font-size:2.2rem}.ac-insight-view-toolbar-actions__btn-ico--bold{font-weight:600}\n",""]),e.exports=t},1432:function(e,t,i){var a=i(12),n=i(1433);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1433:function(e,t,i){(t=i(13)(!1)).push([e.i,'.ac-insight-view-document__title{font-family:"Montserrat";text-transform:uppercase;flex:0 0 0;margin-right:4rem;margin-bottom:1rem}.ac-insight-view-document__upload-ico,.ac-insight-view-document__delete-ico{font-family:\'Material Icons\';font-weight:normal;font-style:normal;font-size:1.8rem;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\'liga\';color:#a9a9a9;cursor:pointer}.ac-insight-view-document__upload-ico--medium,.ac-insight-view-document__delete-ico--medium{font-size:2.2rem}.ac-insight-view-document__upload-ico--bold,.ac-insight-view-document__delete-ico--bold{font-weight:600}.ac-insight-view-document__value{align-items:center;cursor:pointer;display:flex;width:100%;overflow:hidden}.ac-insight-view-document__doctype-ico{background-position:center center;background-repeat:no-repeat;background-image:url("/img/icons/documents/others.png");flex-shrink:0;height:25px;width:20px;margin-right:0.75rem}.ac-insight-view-document__doctype-ico--excel{background-image:url("/img/icons/documents/excel.png")}.ac-insight-view-document__doctype-ico--html{background-image:url("/img/icons/documents/html.png")}.ac-insight-view-document__doctype-ico--image{background-image:url("/img/icons/documents/image.png")}.ac-insight-view-document__doctype-ico--pdf{background-image:url("/img/icons/documents/pdf.png")}.ac-insight-view-document__doctype-ico--ppt{background-image:url("/img/icons/documents/ppt.png")}.ac-insight-view-document__doctype-ico--r{background-image:url("/img/icons/documents/r.png")}.ac-insight-view-document__doctype-ico--sql{background-image:url("/img/icons/documents/sql.png")}.ac-insight-view-document__doctype-ico--word{background-image:url("/img/icons/documents/word.png")}.ac-insight-view-document__doctype-ico--cohort,.ac-insight-view-document__doctype-ico--cohortdefinitionjson{background-image:url("/img/icons/documents/cohort.png")}.ac-insight-view-document__doctype-ico--estimation{background-image:url("/img/icons/documents/estimation.png")}.ac-insight-view-document__doctype-ico--packrat{background-image:url("/img/icons/documents/packrat.png")}.ac-insight-view-document__doctype-ico--txt,.ac-insight-view-document__doctype-ico--text{background-image:url("/img/icons/documents/txt.png")}.ac-insight-view-document__doctype-ico--link{background-image:url("/img/icons/documents/link.png")}.ac-insight-view-document__doctype-ico--csv{background-image:url("/img/icons/documents/excel.png")}.ac-insight-view-document__doctype-ico--folder{background-image:url("/img/icons/documents/folder.png")}.ac-insight-view-document__doctype-ico--report{background-image:url("/img/icons/documents/chart.png")}.ac-insight-view-document__doctype-ico--home{background-image:url("/img/icons/documents/home.png")}.ac-insight-view-document__download-link{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;line-height:1.6rem}.ac-insight-view-document__delete-ico{margin-left:0.5rem}.ac-insight-view-document__upload-ico{margin-right:0.5rem}\n',""]),e.exports=t},1434:function(e,t,i){var a=i(12),n=i(1435);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1435:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insight-form-attach-link{flex-direction:row !important;padding:1.5rem 2rem}\n",""]),e.exports=t},1436:function(e,t,i){var a=i(12),n=i(1437);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1437:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insight-form-create-code__content{width:500px}.ac-insight-form-create-code .ac-tabs__item{width:14rem;text-align:center}.ac-insight-form-create-code .ac-tabs__item:not(:last-child){margin-right:3px}.ac-insight-form-create-code .ac-modal__content-header{display:none}.ac-insight-form-create-code .ac-modal__content{border-radius:3px;overflow:hidden}.ac-insight-form-create-code .ac-modal__content-body{padding:0}\n",""]),e.exports=t},1438:function(e,t,i){var a=i(12),n=i(1439);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1439:function(e,t,i){(t=i(13)(!1)).push([e.i,'.ac-insight-modal-settings__content{width:500px}.ac-insight-modal-settings__setting{display:flex;justify-content:space-between;align-items:center;padding:1rem 0rem}.ac-insight-modal-settings__setting-title{font-family:"Montserrat";text-transform:uppercase}.ac-insight-modal-settings__setting-value{width:20rem}.ac-insight-modal-settings__setting-value--disabled{opacity:0.3}\n',""]),e.exports=t},1440:function(e,t,i){var a=i(12),n=i(1441);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},r=(a(n,s),n.locals?n.locals:{});e.exports=r},1441:function(e,t,i){(t=i(13)(!1)).push([e.i,".ac-insight-view{display:flex;flex-direction:column;min-height:100%;position:relative}.ac-insight-view__content{background:#F9F9F9;flex-grow:1;padding:15px 30px;position:relative}.ac-insight-view__protocol,.ac-insight-view__paper,.ac-insight-view__objective,.ac-insight-view__leads,.ac-insight-view__data-sources,.ac-insight-view__participants{margin-top:1rem}.ac-insight-view__initial-proposal .ac-study-date-panel__title{letter-spacing:-1px}.ac-insight-view-objective{padding:1.5rem 2rem;line-height:2.1rem}.ac-insight-view-data-sources--empty{padding:1.5rem 2rem}.ac-insight-view-data-people--empty{padding:1.5rem 2rem}.ac-insight-view-data-people__user{padding:0.75rem 2rem;display:flex;justify-content:space-between;align-items:center}.ac-insight-view-data-people__user:not(:first-child){border-top:1px solid #F6F6F6}\n",""]),e.exports=t},1457:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i.n(a),s=i(38),r=i(1),o=i(6),l=i(27),c=i(32),d=i.n(c),p=i(57),u=i(236),g=i(180),h=i(4),m=i(2),b=i(80),f=i(3),y=i.n(f);i(1420);var v=function(e){const{reload:t,isCardsView:i=!1,setViewMode:a}=e,s=new h.a("insights-list-actions"),r=g.d.map(e=>({...e,label:n.a.createElement(m.Button,s("btn"),e.ico?n.a.createElement("i",s("btn-ico"),e.ico):n.a.createElement("span",null,e.label))}));return n.a.createElement("ul",s(),n.a.createElement("li",s("action"),n.a.createElement(m.Button,y()({},s("btn"),{onClick:t}),n.a.createElement("i",s("btn-ico"),"refresh"))),n.a.createElement("li",s("action"),n.a.createElement(m.Tabs,y()({},s("tabs"),{options:r,value:i?g.c.CARDS:g.c.TABLE,onChange:()=>a(i?g.c.TABLE:g.c.CARDS)}))))};var _=(new class{getComponent(){return v}mapStateToProps(e){const t=Object(r.k)(e,"routing.locationBeforeTransitions.query",{},"Object");return{queryParams:t,isCardsView:t.view===g.a.CARDS}}getMapDispatchToProps(){return{loadInsights:o.a.insightsLibrary.insights.query,redirect:e=>{const t=new d.a(p.f.insights());return t.setSearch(e),Object(l.push)(t.href())},reload:o.a.router.reload}}mergeProps(e,t,i){return{...i,...e,...t,setViewMode(i){t.redirect({...e.queryParams,view:i})}}}build(){return r.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build(),w=i(25),E=i.n(w),x=i(1189);function P({value:e}){const t=new h.a("insight-list-participants-cell");return e&&e.length?n.a.createElement("ul",t(),e.map((e,i)=>n.a.createElement(m.Link,y()({},t("item"),{to:e.link,key:i}),e.label))):n.a.createElement("div",null,"-")}function k({value:e}){const t=new h.a("cell-objective");let i;return e.length>70&&(i=e,e=e.substring(0,70)+"..."),n.a.createElement("div",y()({},t({extra:i?"ac-tooltip":null}),{"aria-label":i,"data-tootik-conf":"multiline right"}),e)}function T(e){const t=new h.a("insights-list-cell-title");return n.a.createElement("div",t(),n.a.createElement(x.a,e))}class L{constructor(e,t){this.bemHelper=t,this.setFavourite=e.setFavourite}getFields(){return{name:n.a.createElement(T,y()({key:"study.title"},this.bemHelper("name"),{header:"Study",field:"study.title",props:e=>({title:e.study.title,isFavourite:e.favourite,toggleFavorite:()=>this.setFavourite(e.id,(!e.favourite).toString()),titleLabel:"DRAFT"===e.publishState?"DRAFT":null,titleLabelDescr:Object(r.k)(p.g.filter(e=>"DRAFT"===e.value)[0],"tooltip"),showPrivacy:!1})})),objective:n.a.createElement(k,y()({key:"study.objective"},this.bemHelper("objective"),{header:"Objective",field:"study.objective",isSortable:!1})),lead:n.a.createElement(P,y()({key:"study.lead"},this.bemHelper("lead"),{header:"Lead",field:"study.lead",isSortable:!1})),proposal:n.a.createElement(m.TableCellText,y()({key:"study.created"},this.bemHelper("proposal"),{header:"Proposal",field:"study.created"})),launch:n.a.createElement(m.TableCellText,y()({key:"study.startDate"},this.bemHelper("launch"),{header:"Launch",field:"study.startDate"})),closure:n.a.createElement(m.TableCellText,y()({key:"study.endDate"},this.bemHelper("closure"),{header:"Closure",field:"study.endDate"}))}}build(){return Object.values(this.getFields())}}i(1422);var C=function(e){const t=new h.a("insight-list-table"),{insightList:i,isLoading:a,setSorting:s,sorting:r,setFavourite:o}=e;return n.a.createElement(m.Table,y()({},t(),{data:i,mods:["hover","padded","selectable"],onRowClick:e.showInsight,setSorting:s,sorting:r}),new L(e,t).build())},S=i(46),I=i(49),j=i.n(I),O=i(28),D=i(1200),F=i.n(D),M=i(1207);function A(e){return n.a.createElement(x.a,e)}function R(e){const t=new h.a("insight-list-card"),{id:i,publishState:a,publishedDate:s,favourite:o,study:{title:l,objective:c,participants:d,startDate:u,endDate:g},setFavourite:m}=e,b=n.a.createElement(A,y()({},t("title"),{mods:["large","nowrap"],title:l,link:p.f.insights({insightId:i}),isFavourite:o,toggleFavorite:()=>m(i,!o),titleLabel:"DRAFT"===a?"DRAFT":null,titleLabelDescr:Object(r.k)(p.g.filter(e=>"DRAFT"===e.value)[0],"tooltip")},e)),f=n.a.createElement("div",t("dates"),n.a.createElement("span",t("ico"),"date_range"),j()(u).format(O.e),n.a.createElement("span",t("ico","reversed"),"keyboard_backspace"),j()(g).format(O.e));return n.a.createElement(M.a,{title:b,date:s?n.a.createElement("span",null,"Published: ",j()(s).format(O.e)):null,userList:d.map(e=>({id:e.id,name:e.label})),footerExtra:f},n.a.createElement("p",{ref:e=>{e&&F()(e,{clamp:3,useNativeClamp:!1,truncationChar:"...",height:43})}},c))}i(1424),R.propTypes={id:a.PropTypes.number,publishState:a.PropTypes.bool,publishedDate:a.PropTypes.string,favourite:a.PropTypes.bool,study:a.PropTypes.shape({title:a.PropTypes.string,objective:a.PropTypes.string,participants:a.PropTypes.arrayOf(a.PropTypes.shape({id:a.PropTypes.number,label:a.PropTypes.string})),created:a.PropTypes.string,startDate:a.PropTypes.string,endDate:a.PropTypes.string}),setFavourite:a.PropTypes.func,toggleParticipants:a.PropTypes.func,participantsExpanded:a.PropTypes.bool};var N=R;i(1426);var H=function(e){const t=new h.a("insight-list-cards"),{insightList:i,isLoading:a,setSorting:s,sorting:r,setFavourite:o,toggleParticipants:l,participantsExpanded:c}=e;return n.a.createElement("div",t(),i.map((e,t)=>n.a.createElement(N,y()({key:t},e,{setFavourite:o,participantsExpanded:c,toggleParticipants:l}))))};i(1428);var z=function(e){const{isCardsView:t=!1}=e,i=new h.a("insights-list-wrapper");return n.a.createElement("div",i(),t?n.a.createElement(H,e):n.a.createElement(C,e))},q=i(20),U=i(40),V=i.n(U),B=i(30);const Q=(new class{getRawInsightList(e){return Object(r.k)(e,"insightsLibrary.insights.queryResult.content",[],"Array")}getInsight(e){return{id:e.id,publishState:e.publishState,publishedDate:e.publishedDate,favourite:e.favourite,study:{title:e.study.title,objective:e.study.description,lead:e.study.studyLeads.map(e=>({link:B.i.profile(e.id),label:e.fullName})),participants:e.study.studyParticipants.map(e=>({id:e.id,link:B.i.profile(e.id),label:e.fullName})),created:V()(e.study.created).format(O.c),startDate:V()(e.study.startDate).format(O.c),endDate:V()(e.study.endDate).format(O.c)}}}getInsightList(e){return e.map(this.getInsight)}buildSelectorForInsightsList(){return Object(q.createSelector)([this.getRawInsightList],this.getInsightList.bind(this))}build(){return{getInsightList:this.buildSelectorForInsightsList()}}}).build();class Y extends r.a{getComponent(){return z}mapStateToProps(e){const t=Object(r.k)(e,"routing.locationBeforeTransitions.query",{},"Object");return{insightList:Q.getInsightList(e),searchQuery:t,sorting:{sortBy:t.sortBy||"study.endDate",sortAsc:"true"===t.sortAsc},isCardsView:t.view===g.a.CARDS}}getMapDispatchToProps(){return{showInsight:e=>Object(l.push)(p.f.insights({insightId:e.id})),search:e=>{const t=new d.a(p.f.insights());return t.setSearch(e),Object(l.push)(t.href())},doSetFavourite:(e,t)=>o.a.insightsLibrary.insightFavourites.update(e,{value:t})}}mergeProps(e,t,i){return{...e,...t,...i,setSorting:i=>{const a={...e.searchQuery,...i};t.search(a)},setFavourite:(e,a)=>E()((function*(){yield t.doSetFavourite(e,a),i.reload()}))()}}}var W=(new Y).build();var J=function(e){const{isLoading:t,filterFields:i,paginationDetails:a,searchQueryDecode:s,searchQueryEncode:r,loadInsightsWithCurrentQuery:o}=e,l=new h.a("insights-list");return n.a.createElement(m.PageContent,{title:"Insights library | Arachne"},n.a.createElement("div",l(),n.a.createElement(b.a,{isLoading:t,title:"Insights library",filterFields:i,Actions:n.a.createElement(_,null),paginationDetails:a,searchQueryDecode:s,searchQueryEncode:r},n.a.createElement(W,{reload:o}))))},Z=i(29);var G=function(){return[{label:"My favorites",name:"favourite",type:Z.a.toggle,forceOpened:!0,hasTitle:!1},{label:"Publish state",name:"publishState",type:Z.a.enum,forceOpened:!0,hasTitle:!0,placeholder:"Any",options:p.h}]};const K=(new class{getPaginationDetails(e){const t=Object(r.k)(e,"insightsLibrary.insights.queryResult"),i=e.routing.locationBeforeTransitions.query,a=g.b[Object(r.k)(i,"view")||g.c.TABLE];return Object(b.b)({searchResults:t,numOfElsPerPage:a})}build(){return{getPaginationDetails:this.getPaginationDetails}}}).build();class X extends a.Component{static get propTypes(){return{searchQuery:a.PropTypes.object,loadInsightsWithCurrentQuery:a.PropTypes.func}}constructor(e,t){super(e,t),this.persistFilters=this.persistFilters.bind(this)}componentDidMount(){window.addEventListener("beforeunload",this.persistFilters)}componentWillReceiveProps(e){this.props.searchQuery!==e.searchQuery&&e.loadInsightsWithCurrentQuery()}componentWillUnmount(){window.removeEventListener("beforeunload",this.persistFilters),this.persistFilters()}persistFilters(){const e={};for(const t in this.props.searchQuery)r.c.isEmpty(this.props.searchQuery[t])||(e[t]=this.props.searchQuery[t]);Object(u.c)(e)}render(){return J(this.props)}}class $ extends r.a{getComponent(){return X}mapStateToProps(e){return{searchQuery:Object(r.k)(e,"routing.locationBeforeTransitions.query",{},"Object"),isLoading:Object(r.k)(e,"insightsLibrary.insights.isLoading",!1),filterFields:G(),paginationDetails:K.getPaginationDetails(e),...r.c.getPlainFiltersEncodeDecoder()}}getMapDispatchToProps(){return{loadInsights:o.a.insightsLibrary.insights.query,redirect:e=>Object(l.push)(e)}}mergeProps(e,t,i){return{...e,...t,...i,loadInsightsWithCurrentQuery:()=>{const i=g.b[Object(r.k)(e.searchQuery,"view")||g.c.TABLE];t.loadInsights(null,{...e.searchQuery,pageSize:i})},applySavedFilters(e){const i=new d.a(p.f.insights());i.setSearch(e),t.redirect(i.href())}}}getFetchers({params:e,state:t,dispatch:i}){const a=o.a.insightsLibrary.insights.query,n=t.routing.locationBeforeTransitions.query,s=g.b[Object(r.k)(n,"view")||g.c.TABLE];return{load:()=>a(null,{...n,pageSize:s})}}}var ee=(new $).build(),te=i(1208),ie=i(45),ae=i(22),ne=i(322);class se{constructor(e,t){this.selectedPublishState=e.selectedPublishState,this.openSettings=e.openSettings,this.permissions=e.permissions,this.remove=e.remove,this.bemHelper=t}build(){const e=[];return this.permissions.EDIT_PAPER?(e.push(n.a.createElement("li",y()({key:"settings"},this.bemHelper({element:"action",extra:"ac-tooltip"}),{"aria-label":"Manage settings","data-tootik-conf":"left"}),n.a.createElement(m.Button,y()({},this.bemHelper("btn"),{onClick:this.openSettings}),n.a.createElement("span",this.bemHelper("btn-ico"),"settings")))),e.push(n.a.createElement("li",y()({key:"delete"},this.bemHelper({element:"action",extra:"ac-tooltip"}),{"aria-label":"Delete insight","data-tootik-conf":"left"}),n.a.createElement(m.Button,y()({},this.bemHelper("btn"),{onClick:this.remove}),n.a.createElement("i",this.bemHelper("btn-ico"),"delete"))))):e.push(n.a.createElement("span",y()({key:"status"},this.bemHelper({element:"label",extra:"ac-tooltip"}),{"aria-label":this.selectedPublishState.tooltip,"data-tootik-conf":"left"}),"Status: ",this.selectedPublishState.label)),e}}function re(e){const t=new h.a("insight-view-toolbar-actions");return n.a.createElement("ul",t(),new se(e,t).build())}i(1430),re.propTypes={permissions:a.PropTypes.oneOfType([a.PropTypes.arrayOf(a.PropTypes.string),a.PropTypes.object]),remove:a.PropTypes.func,openSettings:a.PropTypes.func,selectedPublishState:a.PropTypes.object};var oe=(new class{getComponent(){return re}mapStateToProps(e){const t=Object(r.k)(e,"insightsLibrary.insights.data.publishState","PUBLISHED","String"),i=Object(r.k)(p.g.filter(e=>e.value===t),"[0]",{},"Object");return{insightId:Object(r.k)(e,"insightsLibrary.insights.data.id"),permissions:Object(r.k)(e,"insightsLibrary.insights.data.permissions",{},"Object"),selectedPublishState:i}}getMapDispatchToProps(){return{remove:o.a.insightsLibrary.insights.delete,goToList:()=>Object(l.push)(p.f.insights()),openSettings:()=>m.ModalUtils.actions.toggle(p.d.settings,!0)}}mergeProps(e,t,i){return{...e,...t,...i,remove:()=>{r.c.confirmDelete({message:"Are you sure you want to delete this file?"}).then(()=>{t.remove({insightId:e.insightId}).then(()=>t.goToList())})}}}build(){return r.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build();function le(e){const{backUrl:t,breadcrumbList:i,name:a,selectedPublishState:s}=e,o=n.a.createElement(ne.a,{title:a,label:"DRAFT"===s.value?"DRAFT":null,labelDescr:Object(r.k)(p.g.filter(e=>"DRAFT"===e.value)[0],"tooltip")});return n.a.createElement(m.Toolbar,{caption:o,backUrl:t,breadcrumbList:i},n.a.createElement(oe,null))}le.propTypes={backUrl:a.PropTypes.string,breadcrumbList:a.PropTypes.arrayOf(a.PropTypes.object),name:a.PropTypes.string,selectedPublishState:a.PropTypes.object};var ce=le;var de=(new class{getComponent(){return ce}mapStateToProps(e){const t=Object(r.k)(e,"insightsLibrary.insights.data.publishState","PUBLISHED","String"),i=Object(r.k)(p.g.filter(e=>e.value===t),"[0]",{},"Object");return{backUrl:p.f.insights(),breadcrumbList:[{label:"Insights Library",link:p.f.insights()},{label:"Study",link:ae.i.studies(Object(r.k)(e,"insightsLibrary.insights.data.study.id",0))}],insightId:Object(r.k)(e,"insightsLibrary.insights.data.id",-1),name:Object(r.k)(e,"insightsLibrary.insights.data.study.title","Insight"),permissions:Object(r.k)(e,"insightsLibrary.insights.data.permissions",{},"Object"),selectedPublishState:i}}build(){return r.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps})}}).build();i(94);i(1432);var pe=function(e){const t=new h.a("insight-view-document"),{files:i,deleteFile:a,title:s,openModal:r,canManageFiles:o}=e;return n.a.createElement(m.Panel,y()({},t(),{title:s}),i&&i.length?i.map((e,i)=>n.a.createElement(m.ListItem,y()({key:i},t("value")),n.a.createElement("i",t("doctype-ico",e.docType)),n.a.createElement(m.Link,y()({},t("download-link"),{onClick:e.onClick,to:e.link}),e.label||e.name),o&&n.a.createElement("i",y()({},t("delete-ico"),{onClick:()=>a(e)}),"close"))):null,o&&n.a.createElement(m.ListItem,y()({},t("value"),{onClick:r}),n.a.createElement("i",t("upload-ico"),"file_upload"),i&&i.length?"Add files":"No files attached"),o||i.length?null:n.a.createElement(m.ListItem,t("value"),"No files attached"))};var ue=(new class{getComponent(){return pe}mapStateToProps(e){return{insightId:Object(r.k)(e,"insightsLibrary.insights.data.id",-1)}}getMapDispatchToProps(){return{openModal:(e,t,i)=>m.ModalUtils.actions.toggle(e,t,i),loadInsight:o.a.insightsLibrary.insights.find,deleteFile:o.a.insightsLibrary.insightFiles.delete}}mergeProps(e,t,i){return{...e,...t,...i,openModal:()=>t.openModal(p.d.insightFile,!0,{type:i.type}),deleteFile:i=>{r.c.confirmDelete({message:"Are you sure you want to delete this file?"}).then(()=>{t.deleteFile({insightId:e.insightId,fileUuid:i.uuid,query:{type:i.type}}).then(()=>t.loadInsight({insightId:e.insightId}))})}}}build(){return r.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build(),ge=i(17),he=i(331);i(1434);var me=function(e){const t=new h.a("insight-form-attach-link"),i=[{name:"label",className:"col-xs-12 col-md-6",InputComponent:{component:m.FormInput,props:{mods:["bordered"],placeholder:"Name document",type:"text"}}},{name:"link",className:"col-xs-12 col-md-6",InputComponent:{component:m.FormInput,props:{mods:["bordered"],placeholder:"Link to file",type:"text"}}}];return n.a.createElement(m.Form,y()({},t({extra:"row"}),e,{actionsClassName:"col-xs-12",fields:i,submitBtn:{label:"Add",loadingLabel:"Adding...",mods:["success","rounded"]},onSubmit:e.doSubmit}))};i(1436);var be=function(e){const t=new h.a("insight-form-create-code"),i=[{label:"Computer",content:n.a.createElement(he.a,y()({},e,{multiple:!0}))},{label:"Links",content:n.a.createElement(me,e)}];return n.a.createElement("div",t(),n.a.createElement(m.Modal,{modal:e.modal,title:"Add file"},n.a.createElement("div",t("content"),n.a.createElement(m.TabbedPane,{sections:i}),n.a.createElement(m.LoadingPanel,{isActive:e.isLoading}))))};const fe=Object(ge.reduxForm)({form:p.b.uploadInsightFile})(be),ye=m.ModalUtils.connect({name:p.d.insightFile})(fe);var ve=(new class{getComponent(){return ye}mapStateToProps(e){const t=Object(r.k)(e,"insightsLibrary.insights.isLoading",!1),i=Object(r.k)(e,"form.".concat(p.b.uploadInsightFile,".values.files"),[]),a=Object(r.k)(e,"form.".concat(p.b.uploadInsightFile,".registeredFields"),{},"Object");return Object(r.k)(e,"form.".concat(p.b.uploadInsightFile,".registeredFields"),[],"Array").forEach(e=>{a[e.name]=e.type}),{isLoading:t,insightId:Object(r.k)(e,"insightsLibrary.insights.data.id",-1),canSubmit:i.length>0,type:Object(r.k)(e,"modal.".concat(p.d.insightFile,".data.type"),-1),formRegisteredFields:a}}getMapDispatchToProps(){return{closeModal:()=>m.ModalUtils.actions.toggle(p.d.insightFile,!1),loadInsight:o.a.insightsLibrary.insights.find,uploadFile:o.a.insightsLibrary.insightFiles.create,reset:()=>Object(ge.reset)(p.b.uploadInsightFile)}}mergeProps(e,t,i){return{...i,...e,...t,doSubmit({files:i,link:a,label:n}){const s=[];e.formRegisteredFields.files?i.forEach(i=>{s.push(t.uploadFile({insightId:e.insightId,query:{type:e.type}},{file:i,label:i.label}))}):s.push(t.uploadFile({insightId:e.insightId,query:{type:e.type}},{link:a,label:n}));return Promise.all(s).then(()=>t.reset()).then(()=>t.closeModal()).then(()=>t.loadInsight({insightId:e.insightId}))}}}build(){return r.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build();i(1438);class _e extends a.Component{constructor(e){super(e),this.classes=Object(h.a)("insight-modal-settings")}getSettings(){return[n.a.createElement("div",y()({key:"publish"},this.classes("setting")),n.a.createElement("div",this.classes("setting-title"),"Publish state"),n.a.createElement(m.Tabs,y()({},this.classes({element:"setting-value",modifiers:{disabled:!this.canPublishPaper}}),{onChange:this.changePublishState,options:p.g,value:this.publishState})))]}render(){return this.publishState=this.props.publishState,this.insightId=this.props.insightId,this.changePublishState=this.props.changePublishState,this.canPublishPaper=this.props.canPublishPaper,n.a.createElement("div",this.classes(),n.a.createElement(m.Modal,{modal:this.props.modal,title:"Insight settings"},n.a.createElement("div",this.classes("content"),this.getSettings())))}}const we=m.ModalUtils.connect({name:p.d.settings})(_e);var Ee=(new class{getComponent(){return we}mapStateToProps(e){return{publishState:Object(r.k)(e,"insightsLibrary.insights.data.publishState","DRAFT","String"),insightId:Object(r.k)(e,"insightsLibrary.insights.data.id"),canPublishPaper:Object(r.k)(e,"insightsLibrary.insights.data.study.status.availableActions",[]).includes(ae.l.publishPaper)}}getMapDispatchToProps(){return{updateInsight:o.a.insightsLibrary.insights.update,loadInsight:o.a.insightsLibrary.insights.find}}mergeProps(e,t,i){return{...e,...t,...i,changePublishState(i){if(!e.canPublishPaper)return!1;t.updateInsight({insightId:e.insightId},{publishState:i}).then(()=>t.loadInsight({insightId:e.insightId})).catch(()=>{})}}}build(){return r.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps})}}).build();var xe=function(){return n.a.createElement("div",null,n.a.createElement(ve,null),n.a.createElement(Ee,null))},Pe=i(458);class ke{constructor(e,t){this.leadList=e.insight.leadList,this.participants=e.insight.participants,this.bemHelper=t}build(){return[n.a.createElement("div",y()({key:"leadList"},this.bemHelper("leads")),n.a.createElement(Pe.a,{title:"Lead investigators",userList:this.leadList})),n.a.createElement("div",y()({key:"participants"},this.bemHelper("participants")),n.a.createElement(Pe.a,{title:"Contributors",userList:this.participants}))]}}function Te({text:e}){const t=new h.a("insight-view-objective");return n.a.createElement(m.Panel,{title:"Study Objective"},n.a.createElement("div",t(),n.a.createElement(m.ExpandableText,{text:e})))}function Le({dataSourceList:e}){const t=new h.a("insight-view-data-sources");return n.a.createElement(m.Panel,{title:"Data sources used"},e.length?n.a.createElement("ul",t(),e.map((e,t)=>n.a.createElement(m.ListItem,{key:t},n.a.createElement(ie.a,y()({},e,{isLink:!0}))))):n.a.createElement("div",t({modifiers:"empty"}),"No data sources were used"))}i(1440);var Ce=function(e){const{insight:{id:t,studyCreated:i,studyStartDate:a,studyEndDate:s,studyTitle:r="Study",objective:o,dataSourceList:l,protocols:c,papers:d,publishedDate:p},permissions:u,isLoading:g}=e,b=new h.a("insight-view");return n.a.createElement(m.PageContent,{title:"".concat(r," | Insights library | Arachne")},t?n.a.createElement("div",b(),n.a.createElement(de,null),n.a.createElement("div",b("content"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-xs-12 col-md-3"},n.a.createElement(te.a,y()({},b("initial-proposal"),{title:"Initial proposal",selected:i,isEditable:!1,dateFormat:"MM/DD/YYYY"}))),n.a.createElement("div",{className:"col-xs-12 col-md-3"},n.a.createElement(te.a,{title:"Start",selected:a,isEditable:!1,dateFormat:"MM/DD/YYYY"})),n.a.createElement("div",{className:"col-xs-12 col-md-3"},n.a.createElement(te.a,{title:"Finished",selected:s,isEditable:!1,dateFormat:"MM/DD/YYYY"})),n.a.createElement("div",{className:"col-xs-12 col-md-3"},n.a.createElement(te.a,{title:"Published",selected:p,isEditable:!1,dateFormat:"MM/DD/YYYY"}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-xs-12 col-md-7"},n.a.createElement("div",b("objective"),n.a.createElement(Te,{text:o})),n.a.createElement("div",b("data-sources"),n.a.createElement(Le,{dataSourceList:l}))),n.a.createElement("div",{className:"col-xs-12 col-md-5"},n.a.createElement("div",b("protocol"),n.a.createElement(ue,{title:"Protocols",type:"PROTOCOL",files:c,canManageFiles:u.EDIT_PAPER})),n.a.createElement("div",b("paper"),n.a.createElement(ue,{title:"Papers",type:"PAPER",files:d,canManageFiles:u.EDIT_PAPER})),new ke(e,b).build())))):n.a.createElement(S.a,{message:"You do not have permissions to view this insight"}),n.a.createElement(xe,null),n.a.createElement(m.LoadingPanel,{active:g}))},Se=i(74);const Ie=(new class{getRawInsight(e){return Object(r.k)(e,"insightsLibrary.insights.data",{},"Object")}userConverter(e){return{id:e.id,name:e.fullName}}extendedUserConverter(e){return{id:e.id,name:e.fullName,subtitle:[e.affilation,e.professionalType.name].filter(e=>e).join(", ")}}getInsight(e){return{id:e.id,studyTitle:Object(r.k)(e,"study.title"),objective:Object(r.k)(e,"study.description"),leadList:(Object(r.k)(e,"study.studyLeads")||[]).filter(e=>e.status===ae.h.APPROVED).map(this.userConverter),participants:(Object(r.k)(e,"study.studyParticipants")||[]).map(this.extendedUserConverter),dataSourceList:(Object(r.k)(e,"study.studyDataSources")||[]).map(e=>({...e,uuid:e.id})).map(ie.c),studyCreated:V()(Object(r.k)(e,"study.created")).format(O.c),studyStartDate:V()(Object(r.k)(e,"study.startDate")).format(O.c),studyEndDate:V()(Object(r.k)(e,"study.endDate")).format(O.c),publishedDate:Object(r.k)(e,"publishedDate")?V()(e.study.publishedDate).format(O.c):null,protocols:e.protocols?e.protocols.map(t=>({...Object(Se.a)(t,({uuid:t})=>p.f.insightFile({insightId:e.id,fileUuid:t,query:{type:p.e.PROTOCOL}})),type:p.e.PROTOCOL})):null,papers:e.papers?e.papers.map(t=>({...Object(Se.a)(t,({uuid:t})=>p.f.insightFile({insightId:e.id,fileUuid:t,query:{type:p.e.PAPER}})),type:p.e.PAPER})):null}}buildSelectorForInsight(){return Object(q.createSelector)([this.getRawInsight],this.getInsight.bind(this))}build(){return{getInsight:this.buildSelectorForInsight()}}}).build();class je extends a.Component{render(){return Ce(this.props)}}var Oe=(new class{getComponent(){return je}mapStateToProps(e,t){return{insightId:t.params.insightId,insight:Ie.getInsight(e),isLoading:Object(r.k)(e,"insightsLibrary.insights.isLoading",!1),permissions:Object(r.k)(e,"insightsLibrary.insights.data.permissions",{},"Object")}}getMapDispatchToProps(){return{loadInsight:o.a.insightsLibrary.insights.find}}mergeProps(e,t,i){return{...e,...t,...i,loadInsight:()=>{t.loadInsight({insightId:e.insightId})}}}getFetchers({params:e}){const t=o.a.insightsLibrary.insights.find;return{load:()=>t({insightId:e.insightId})}}build(){return r.c.buildConnectedComponent({Component:this.getComponent(),mapStateToProps:this.mapStateToProps,mapDispatchToProps:this.getMapDispatchToProps(),mergeProps:this.mergeProps,getFetchers:this.getFetchers})}}).build(),De=i(328),Fe=i(329);var Me=function({file:e,isLoading:t,toolbarOpts:i,downloadLink:a,urlParams:s,pageTitle:r,queryParams:o}){return n.a.createElement(Fe.a,{file:e,isLoading:t,toolbarOpts:i,downloadLink:a,urlParams:s,pageTitle:r,queryParams:o})};class Ae extends De.a{render(){return Me(this.props)}}class Re extends r.a{getComponent(){return Ae}mapStateToProps(e,t){const i=t.routeParams.fileUuid,a=t.routeParams.insightId,n=Object(r.k)(e,"insightsLibrary.insightFiles.isLoading",!1),s=Object(r.k)(e,"insightsLibrary.insightFiles.data"),o=[Object(r.k)(s,"name","Insight document file"),"Arachne"],l={fileUuid:i,insightId:a},c=t.location.query,d=p.f.insights({insightId:Object(r.k)(s,"insightId")}),u={backUrl:d,breadcrumbList:[{label:"Insights",link:p.f.insights()},{label:"Study",link:p.f.studies(Object(r.k)(s,"studyId","","String"))},{label:"Insight",link:d}],title:Object(r.k)(s,"label")||Object(r.k)(s,"name")};return{file:s,urlParams:l,queryParams:c,isLoading:n,pageTitle:o.join(" | "),downloadLink:p.a.insightFilesDownload({...l,query:c}),toolbarOpts:u}}getMapDispatchToProps(){return{loadFile:o.a.insightsLibrary.insightFiles.find}}}var Ne=(new Re).build();t.default=function(){return[n.a.createElement(s.Route,{path:"insights",component:ee,onEnter:r.c.getSavedFiltersRestorer({getSavedFilter:u.b,basePath:p.f.insights()})}),n.a.createElement(s.Route,{path:"insights/:insightId",component:Oe}),n.a.createElement(s.Route,{path:"insights/:insightId/files/:fileUuid",component:Ne})]}}}]);